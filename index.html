<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SEO Roadmap - The Fully Bookers</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{--blue:#0066CC;--blue-dark:#004C99;--blue-light:#E6F2FF;--green:#10B981;--green-bg:#D1FAE5;--orange:#F59E0B;--orange-bg:#FEF3C7;--yellow:#EAB308;--yellow-bg:#FEF9C3;--red:#DC2626;--red-bg:#FEE2E2;--lightblue:#3B82F6;--lightblue-bg:#DBEAFE;--gray:#6B7280;--gray-bg:#F3F4F6;--text:#111827;--text-light:#6B7280;--border:#E5E7EB;--bg:#FAFAFA;--white:#FFFFFF;--shadow-sm:0 1px 2px 0 rgb(0 0 0/.05);--shadow:0 4px 6px -1px rgb(0 0 0/.1);--shadow-lg:0 10px 15px -3px rgb(0 0 0/.1)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
.app{min-height:100vh;position:relative}
.sidebar{width:280px;background:var(--white);border-right:1px solid var(--border);padding:24px 0;position:fixed;top:0;left:0;height:100vh;overflow-y:auto;z-index:100}
.sidebar.minimal{width:80px}
.logo{padding:0 24px 24px;border-bottom:1px solid var(--border);margin-bottom:24px}
.sidebar.minimal .logo{padding:0 12px 24px}
.logo-text{font-family:'DM Sans',sans-serif;font-size:13px;font-weight:700;color:var(--blue);letter-spacing:.5px;margin-bottom:4px}
.logo-subtitle{font-size:24px;font-weight:700;color:var(--text);font-family:'DM Sans',sans-serif}
.sidebar.minimal .logo-text,.sidebar.minimal .logo-subtitle{display:none}
.sync-status{padding:0 24px 16px;font-size:12px;display:flex;align-items:center;gap:8px;border-bottom:1px solid var(--border);margin-bottom:16px}
.sidebar.minimal .sync-status{padding:0 12px 16px}
.sync-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0}
.sync-connected{background:var(--green)}
.sync-connecting{background:var(--orange);animation:pulse 1.5s infinite}
.sync-error{background:var(--red)}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}
.sync-text{flex:1;font-size:11px;color:var(--text-light)}
.sidebar.minimal .sync-text{display:none}
.reload-btn{padding:4px 8px;font-size:10px;background:var(--blue);color:white;border:none;border-radius:4px;cursor:pointer}
.reload-btn:hover{background:var(--blue-dark)}
.sidebar.minimal .reload-btn{display:none}
.mode-indicator{padding:0 24px 8px;font-size:11px;display:flex;align-items:center;gap:6px}
.mode-badge{padding:4px 8px;border-radius:4px;font-weight:600;font-size:10px}
.mode-badge.viewer{background:var(--blue-light);color:var(--blue)}
.mode-badge.admin{background:var(--green-bg);color:var(--green)}
.save-status{padding:0 24px 8px;font-size:11px;color:var(--text-light);display:flex;align-items:center;gap:6px}
.sidebar.minimal .save-status{padding:0 12px 8px;justify-content:center}
.save-status-dot{width:6px;height:6px;border-radius:50%;background:var(--gray)}
.save-status-dot.saving{background:var(--orange);animation:pulse 1s infinite}
.save-status-dot.success{background:var(--green)}
.save-status-dot.error{background:var(--red)}
.sidebar.minimal .save-status-text{display:none}
.nav-item{padding:10px 24px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:12px;border-left:3px solid transparent}
.sidebar.minimal .nav-item{padding:10px 12px;justify-content:center}
.nav-item:hover{background:var(--blue-light)}
.nav-item.active{background:var(--blue-light);border-left-color:var(--blue)}
.nav-icon{font-size:18px}
.nav-text{flex:1;font-size:14px;font-weight:500}
.sidebar.minimal .nav-text{display:none}
.nav-count{font-size:12px;color:var(--text-light);background:var(--gray-bg);padding:2px 8px;border-radius:12px}
.sidebar.minimal .nav-count{display:none}
.main{flex:1;padding:48px 64px;max-width:1400px;margin-left:280px}
.sidebar.minimal ~ .main{margin-left:80px}
.header{margin-bottom:32px}
.title{font-size:36px;font-weight:700;color:var(--text);margin-bottom:8px;font-family:'DM Sans',sans-serif}
.subtitle{font-size:16px;color:var(--text-light)}
.status-overview{display:grid;grid-template-columns:repeat(5,1fr);gap:16px;margin-bottom:32px}
.status-card{background:var(--white);border:1px solid var(--border);border-radius:12px;padding:20px;text-align:center;transition:all .2s;cursor:pointer}
.status-card:hover{box-shadow:var(--shadow);transform:translateY(-2px)}
.status-card.active{border-width:2px;box-shadow:var(--shadow)}
.status-icon{font-size:32px;margin-bottom:8px}
.status-count{font-size:28px;font-weight:700;font-family:'DM Sans',sans-serif;margin-bottom:4px}
.status-label{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}
.status-card.opstartfase .status-count{color:var(--lightblue)}
.status-card.kritiek .status-count{color:var(--red)}
.status-card.aandacht .status-count{color:var(--orange)}
.status-card.schema .status-count{color:var(--yellow)}
.status-card.top .status-count{color:var(--green)}
.filter-bar{background:var(--white);border:1px solid var(--border);border-radius:8px;padding:12px 16px;margin-bottom:24px;display:flex;align-items:center;gap:12px}
.filter-label{font-size:13px;font-weight:600;color:var(--text-light)}
.filter-btn{padding:6px 12px;border:1px solid var(--border);background:var(--white);border-radius:6px;font-size:13px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:6px}
.filter-btn:hover{background:var(--bg)}
.filter-btn.active{background:var(--blue);color:white;border-color:var(--blue)}
.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px;margin-bottom:48px}
.client-card{background:var(--white);border:1px solid var(--border);border-radius:12px;padding:24px;transition:all .2s;position:relative}
.client-card:hover{box-shadow:var(--shadow-lg);transform:translateY(-2px)}
.client-status-badge{position:absolute;top:12px;right:12px;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px;box-shadow:var(--shadow)}
.client-status-badge.opstartfase{background:var(--lightblue-bg)}
.client-status-badge.kritiek{background:var(--red-bg)}
.client-status-badge.aandacht{background:var(--orange-bg)}
.client-status-badge.schema{background:var(--yellow-bg)}
.client-status-badge.top{background:var(--green-bg)}
.client-header{display:flex;justify-content:space-between;align-items:start;margin-bottom:12px}
.client-name{font-size:18px;font-weight:700;color:var(--text);font-family:'DM Sans',sans-serif;padding-right:50px}
.client-meta{font-size:13px;color:var(--text-light);margin-bottom:12px}
.client-link{color:var(--blue);text-decoration:none;display:inline-flex;align-items:center;gap:4px;font-size:12px;margin-right:12px}
.client-link:hover{text-decoration:underline}
.delete-btn{background:var(--red-bg);color:var(--red);border:none;width:32px;height:32px;border-radius:6px;cursor:pointer;font-size:16px;transition:all .2s;display:flex;align-items:center;justify-content:center}
.delete-btn:hover{background:var(--red);color:var(--white)}
.client-stats{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;margin-bottom:16px}
.stat-box{text-align:center}
.stat-number{font-size:24px;font-weight:700;color:var(--blue);font-family:'DM Sans',sans-serif}
.stat-label{font-size:11px;text-transform:uppercase;letter-spacing:.5px;color:var(--text-light);margin-top:4px}
.progress-section{margin-top:16px}
.progress-label{display:flex;justify-content:space-between;font-size:12px;color:var(--text-light);margin-bottom:8px}
.progress-percentage{font-weight:600;color:var(--blue)}
.progress-bar{height:8px;background:var(--gray-bg);border-radius:4px;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--blue),var(--blue-dark));transition:width .3s ease;border-radius:4px}
.planning-box{margin-top:16px;padding:12px;background:var(--blue-light);border-radius:6px}
.planning-title{font-size:11px;font-weight:600;text-transform:uppercase;color:var(--blue);margin-bottom:8px}
.planning-item{font-size:13px;color:var(--text);margin-bottom:4px}
.add-client-card{background:var(--blue-light);border:2px dashed var(--blue);border-radius:12px;padding:48px 24px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}
.add-client-card:hover{background:var(--blue);border-color:var(--blue-dark)}
.add-client-card:hover .add-icon,.add-client-card:hover .add-text{color:var(--white)}
.add-icon{font-size:48px;color:var(--blue);margin-bottom:12px;transition:all .2s}
.add-text{font-size:16px;font-weight:600;color:var(--blue);transition:all .2s}
.section{margin-bottom:48px}
.section-header{font-size:13px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-light);margin-bottom:16px;display:flex;justify-content:space-between;align-items:center}
.add-item-btn{background:var(--blue);color:var(--white);border:none;padding:6px 12px;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;transition:all .2s}
.add-item-btn:hover{background:var(--blue-dark)}
.current-client-banner{background:var(--blue-light);padding:16px 20px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px}
.banner-left{display:flex;align-items:center;gap:16px;flex:1}
.banner-text{font-size:14px;color:var(--blue-dark)}
.banner-client{font-weight:700;color:var(--blue)}
.banner-status-display{display:flex;align-items:center;gap:8px;padding:8px 16px;background:white;border-radius:6px;font-size:13px;font-weight:600}
.banner-status-icon{font-size:20px}
.banner-buttons{display:flex;gap:8px}
.banner-btn{background:var(--blue);color:var(--white);border:none;padding:8px 16px;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s}
.banner-btn:hover{background:var(--blue-dark)}
.banner-btn.danger{background:var(--red)}
.banner-btn.danger:hover{background:#B91C1C}
.task-card{background:var(--white);border:1px solid var(--border);border-radius:8px;padding:16px 20px;margin-bottom:8px;display:flex;align-items:center;gap:16px;transition:all .2s}
.task-card.clickable{cursor:pointer}
.task-card.clickable:hover{box-shadow:var(--shadow);transform:translateY(-1px)}
.task-card.completed{background:var(--bg);opacity:.7}
.checkbox{width:20px;height:20px;border:2px solid var(--border);border-radius:6px;transition:all .2s;flex-shrink:0;display:flex;align-items:center;justify-content:center}
.checkbox.clickable{cursor:pointer}
.checkbox.clickable:hover{border-color:var(--blue)}
.checkbox.checked{background:var(--blue);border-color:var(--blue)}
.checkbox.checked::after{content:'‚úì';color:white;font-size:14px;font-weight:bold}
.task-content{flex:1}
.task-title{font-size:15px;font-weight:500;color:var(--text);margin-bottom:4px}
.task-desc{font-size:13px;color:var(--text-light)}
.task-card.completed .task-title{text-decoration:line-through;color:var(--text-light)}
.delete-item-btn{background:none;border:none;color:var(--text-light);cursor:pointer;transition:all .2s;padding:4px 8px;font-size:16px}
.delete-item-btn:hover{color:var(--red)}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000}
.modal{background:var(--white);border-radius:12px;padding:32px;max-width:500px;width:90%;max-height:90vh;overflow-y:auto}
.modal-title{font-size:24px;font-weight:700;margin-bottom:24px;font-family:'DM Sans',sans-serif}
.input-group{margin-bottom:20px}
.input-label{display:block;font-size:13px;font-weight:600;color:var(--text);margin-bottom:8px}
.modal-input{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:6px;font-size:14px;font-family:inherit;transition:all .2s}
.modal-input:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px var(--blue-light)}
.status-select{display:grid;gap:8px;margin-top:8px}
.status-option{padding:12px 16px;border:2px solid var(--border);border-radius:8px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:12px;background:var(--white)}
.status-option:hover{border-color:var(--blue);background:var(--blue-light)}
.status-option.selected{border-color:var(--blue);background:var(--blue-light);font-weight:600}
.status-option-icon{font-size:24px}
.status-option-text{flex:1;font-size:14px}
.modal-buttons{display:flex;gap:12px;margin-top:24px}
.btn{padding:12px 24px;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;font-family:inherit}
.btn-primary{background:var(--blue);color:var(--white)}
.btn-primary:hover{background:var(--blue-dark)}
.btn-secondary{background:var(--gray-bg);color:var(--text)}
.btn-secondary:hover{background:var(--gray)}
.btn-danger{background:var(--red);color:var(--white)}
.btn-danger:hover{background:#B91C1C}
.loading-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;background:var(--bg)}
.spinner{width:48px;height:48px;border:4px solid var(--border);border-top-color:var(--blue);border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.loading-text{margin-top:16px;color:var(--text-light);font-size:14px}
.admin-login-btn{position:fixed;bottom:24px;right:24px;background:var(--blue);color:white;border:none;padding:12px 20px;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer;box-shadow:var(--shadow-lg);transition:all .2s;display:flex;align-items:center;gap:8px;z-index:999}
.admin-login-btn:hover{background:var(--blue-dark);transform:translateY(-2px)}
.toast{position:fixed;bottom:24px;right:24px;background:var(--white);border:1px solid var(--border);border-radius:8px;padding:16px 20px;box-shadow:var(--shadow-lg);display:flex;align-items:center;gap:12px;z-index:2000;animation:slideIn .3s ease}
.toast.hiding{animation:slideOut .3s ease;opacity:0}
@keyframes slideIn{from{transform:translateX(400px);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes slideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(400px);opacity:0}}
.toast-success{border-left:4px solid var(--green)}
.toast-error{border-left:4px solid var(--red)}
.toast-info{border-left:4px solid var(--blue)}
.toast-icon{font-size:20px}
.toast-text{font-size:14px;color:var(--text)}
.empty-state{text-align:center;padding:80px 20px;color:var(--text-light)}
.empty-icon{font-size:64px;margin-bottom:16px;opacity:.5}
.empty-text{font-size:18px;font-weight:600;margin-bottom:8px}
.empty-subtext{font-size:14px}
.viewer-overlay{position:absolute;inset:0;background:rgba(255,255,255,.7);display:flex;align-items:center;justify-content:center;border-radius:8px;opacity:0;transition:opacity .2s}
.viewer-mode .add-client-card:hover .viewer-overlay{opacity:1}
.viewer-message{background:var(--white);padding:16px 24px;border-radius:8px;box-shadow:var(--shadow);font-size:13px;color:var(--text);font-weight:600}
</style>
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const {useState,useEffect}=React;

// HARDCODED FIREBASE CREDENTIALS (voor viewer mode)
const VIEWER_FIREBASE_CONFIG={
apiKey:"AIzaSyD5o1oXmigR7KWaHkZPPVNRHiXxhqxTOJA",
projectId:"seo-roadmap",
authDomain:"seo-roadmap.firebaseapp.com"
};

// ADMIN WACHTWOORD
const ADMIN_PASSWORD="D0rsrq!W%2CAtqq*";

// STATUS DEFINITIONS
const STATUS_OPTIONS=[
{key:'opstartfase',label:'Opstartfase',icon:'üîµ',color:'lightblue'},
{key:'kritiek',label:'Kritiek',icon:'üî¥',color:'red'},
{key:'aandacht',label:'Aandacht Vereist',icon:'üü†',color:'orange'},
{key:'schema',label:'Op Schema',icon:'üü°',color:'yellow'},
{key:'top',label:'Top!',icon:'üü¢',color:'green'}
];

// ROADMAP STEPS
const ROADMAP_STEPS=[
{id:1,name:'Onderzoek & Strategie',icon:'üîç',tasks:[
{id:'1-1',text:'Keyword research uitvoeren',desc:'Zoekwoorden analyseren voor hoofdpagina\'s'},
{id:'1-2',text:'Concurrentieanalyse',desc:'Top 5 concurrenten analyseren'},
{id:'1-3',text:'Technische audit',desc:'Volledige website scan uitvoeren'},
{id:'1-4',text:'Content gap analyse',desc:'Ontbrekende content identificeren'}
]},
{id:2,name:'Technische Optimalisatie',icon:'‚öôÔ∏è',tasks:[
{id:'2-1',text:'Site speed optimalisatie',desc:'Laadtijd onder 3 seconden brengen'},
{id:'2-2',text:'Mobile optimization',desc:'100% mobile-friendly maken'},
{id:'2-3',text:'Core Web Vitals',desc:'LCP, FID, CLS optimaliseren'},
{id:'2-4',text:'Schema markup',desc:'Structured data implementeren'},
{id:'2-5',text:'XML sitemap',desc:'Sitemap aanmaken en indienen'},
{id:'2-6',text:'Robots.txt',desc:'Robots.txt optimaliseren'}
]},
{id:3,name:'On-Page SEO',icon:'üìÑ',tasks:[
{id:'3-1',text:'Title tags optimaliseren',desc:'Unieke, keyword-rijke titles'},
{id:'3-2',text:'Meta descriptions',desc:'Aantrekkelijke descriptions schrijven'},
{id:'3-3',text:'Header structuur',desc:'H1-H6 correct implementeren'},
{id:'3-4',text:'Internal linking',desc:'Linkstructuur verbeteren'},
{id:'3-5',text:'Image optimization',desc:'Alt-tags en compressie'},
{id:'3-6',text:'URL structuur',desc:'SEO-vriendelijke URLs'}
]},
{id:4,name:'Content Creatie',icon:'‚úçÔ∏è',tasks:[
{id:'4-1',text:'Landingspagina\'s',desc:'Belangrijkste service pagina\'s'},
{id:'4-2',text:'Blog strategie',desc:'Content kalender opstellen'},
{id:'4-3',text:'Blog articles',desc:'10 SEO-geoptimaliseerde artikelen'},
{id:'4-4',text:'Product/service beschrijvingen',desc:'Unieke content per item'},
{id:'4-5',text:'FAQ pagina',desc:'Veelgestelde vragen beantwoorden'}
]},
{id:5,name:'Linkbuilding',icon:'üîó',tasks:[
{id:'5-1',text:'Lokale directories',desc:'Inschrijven bij relevante directories'},
{id:'5-2',text:'Guest posting',desc:'Gastartikelen plaatsen'},
{id:'5-3',text:'Broken link building',desc:'Kapotte links vervangen'},
{id:'5-4',text:'Partnerships',desc:'Samenwerkingen aangaan'},
{id:'5-5',text:'PR activiteiten',desc:'Mediacontacten leggen'}
]},
{id:6,name:'Lokale SEO',icon:'üìç',tasks:[
{id:'6-1',text:'Google Business Profile',desc:'Profiel optimaliseren'},
{id:'6-2',text:'NAP consistency',desc:'Consistente bedrijfsgegevens'},
{id:'6-3',text:'Lokale citations',desc:'Vermeldingen bij lokale sites'},
{id:'6-4',text:'Reviews management',desc:'Reviewstrategie opzetten'},
{id:'6-5',text:'Local schema',desc:'Lokale structured data'}
]},
{id:7,name:'Meten & Bijsturen',icon:'üìä',tasks:[
{id:'7-1',text:'Google Search Console',desc:'Installatie en monitoring'},
{id:'7-2',text:'Google Analytics',desc:'Setup en dashboards'},
{id:'7-3',text:'Rank tracking',desc:'Positie monitoring instellen'}
]},
{id:8,name:'Planning',icon:'üìÖ',type:'planning',months:[
{key:'2025-12',label:'December 2025'},{key:'2026-01',label:'Januari 2026'},{key:'2026-02',label:'Februari 2026'},
{key:'2026-03',label:'Maart 2026'},{key:'2026-04',label:'April 2026'},{key:'2026-05',label:'Mei 2026'},
{key:'2026-06',label:'Juni 2026'},{key:'2026-07',label:'Juli 2026'},{key:'2026-08',label:'Augustus 2026'},
{key:'2026-09',label:'September 2026'},{key:'2026-10',label:'Oktober 2026'},{key:'2026-11',label:'November 2026'},{key:'2026-12',label:'December 2026'}
]}
];

// LOCAL STORAGE
const saveLocalData=(tasks,customItems,planningItems,clients)=>{
localStorage.setItem('seo-tasks',JSON.stringify(tasks));
localStorage.setItem('seo-custom-items',JSON.stringify(customItems));
localStorage.setItem('seo-planning',JSON.stringify(planningItems));
localStorage.setItem('seo-clients',JSON.stringify(clients));
};

const loadLocalData=()=>{
try{
return{
tasks:JSON.parse(localStorage.getItem('seo-tasks')||'{}'),
customItems:JSON.parse(localStorage.getItem('seo-custom-items')||'{}'),
planningItems:JSON.parse(localStorage.getItem('seo-planning')||'{}'),
clients:JSON.parse(localStorage.getItem('seo-clients')||'[]')
};
}catch(e){
console.error('Error loading local data:',e);
return{tasks:{},customItems:{},planningItems:{},clients:[]};
}
};

// TOAST
function Toast({message,type,onClose}){
useEffect(()=>{
const timer=setTimeout(()=>{
const el=document.querySelector('.toast');
if(el){el.classList.add('hiding');setTimeout(onClose,300);}
},3000);
return()=>clearTimeout(timer);
},[onClose]);
const icons={success:'‚úÖ',error:'‚ùå',info:'üíæ'};
return(<div className={`toast toast-${type}`}><div className="toast-icon">{icons[type]}</div><div className="toast-text">{message}</div></div>);
}

// ADMIN LOGIN MODAL
function AdminLoginModal({onLogin,onCancel}){
const [password,setPassword]=useState('');
const [error,setError]=useState('');
const handleSubmit=()=>{
if(password===ADMIN_PASSWORD){
onLogin();
}else{
setError('Incorrect wachtwoord');
setTimeout(()=>setError(''),3000);
}
};
return(
<div className="modal-overlay" onClick={onCancel}>
<div className="modal" onClick={(e)=>e.stopPropagation()}>
<h2 className="modal-title">üîê Admin Login</h2>
<p style={{marginBottom:'24px',color:'var(--text-light)',fontSize:'14px'}}>Voer het admin wachtwoord in om edit rechten te krijgen.</p>
{error&&<div className="error-message" style={{background:'var(--red-bg)',color:'var(--red)',padding:'12px',borderRadius:'6px',marginBottom:'16px',fontSize:'13px'}}>{error}</div>}
<div className="input-group">
<label className="input-label">Wachtwoord</label>
<input type="password" className="modal-input" value={password} onChange={(e)=>setPassword(e.target.value)} onKeyPress={(e)=>{if(e.key==='Enter')handleSubmit();}} autoFocus placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"/>
</div>
<div className="modal-buttons">
<button className="btn btn-primary" onClick={handleSubmit}>Inloggen</button>
<button className="btn btn-secondary" onClick={onCancel}>Annuleren</button>
</div>
</div>
</div>
);
}

// PLANNING MONTH
function PlanningMonth({month,selectedClient,planningItems,onAdd,onToggle,onDelete,getCurrentMonth,isAdmin}){
const [showInput,setShowInput]=useState(false);
const [inputValue,setInputValue]=useState('');
const monthItems=planningItems[`${selectedClient}-${month.key}`]||[];
return(
<div className="section">
<div className="section-header">
{month.label}
{month.key===getCurrentMonth()&&(<span style={{marginLeft:'8px',fontSize:'11px',background:'var(--blue)',color:'white',padding:'2px 8px',borderRadius:'12px'}}>Deze maand</span>)}
</div>
{monthItems.map(item=>(
<div key={item.id} className={`task-card ${item.completed?'completed':''} ${isAdmin?'clickable':''}`}>
<div className={`checkbox ${item.completed?'checked':''} ${isAdmin?'clickable':''}`} onClick={()=>{if(isAdmin)onToggle(month.key,item.id);}}/>
<div className="task-content"><div className="task-title">{item.text}</div></div>
{isAdmin&&<button className="delete-item-btn" onClick={()=>onDelete(month.key,item.id)}>üóëÔ∏è</button>}
</div>
))}
{isAdmin&&showInput&&(
<div style={{marginTop:'8px',display:'flex',gap:'8px'}}>
<input type="text" className="modal-input" placeholder="Planning item..." value={inputValue}
onChange={(e)=>setInputValue(e.target.value)}
onKeyPress={(e)=>{if(e.key==='Enter'){onAdd(month.key,inputValue);setInputValue('');setShowInput(false);}}}
autoFocus style={{margin:0}}/>
<button className="btn btn-primary" onClick={()=>{onAdd(month.key,inputValue);setInputValue('');setShowInput(false);}} style={{padding:'10px 20px',flex:'0 0 auto'}}>Toevoegen</button>
<button className="btn btn-secondary" onClick={()=>{setShowInput(false);setInputValue('');}} style={{padding:'10px 20px',flex:'0 0 auto'}}>Annuleren</button>
</div>
)}
{isAdmin&&!showInput&&(
<button className="add-item-btn" onClick={()=>setShowInput(true)} style={{width:'100%',marginTop:'8px'}}>+ Planning item toevoegen</button>
)}
{monthItems.length===0&&!showInput&&(<div style={{textAlign:'center',padding:'32px',color:'var(--text-light)',fontSize:'14px'}}>Nog geen planning voor deze maand</div>)}
</div>
);
}

// MAIN APP
function App(){
const [loading,setLoading]=useState(true);
const [db,setDb]=useState(null);
const [syncStatus,setSyncStatus]=useState('connecting');
const [activeView,setActiveView]=useState('dashboard');
const [activeStep,setActiveStep]=useState(1);
const [selectedClient,setSelectedClient]=useState(null);
const [tasks,setTasks]=useState({});
const [customItems,setCustomItems]=useState({});
const [planningItems,setPlanningItems]=useState({});
const [clients,setClients]=useState([]);
const [showModal,setShowModal]=useState(false);
const [showDeleteModal,setShowDeleteModal]=useState(false);
const [showItemModal,setShowItemModal]=useState(false);
const [showStatusModal,setShowStatusModal]=useState(false);
const [showAdminLogin,setShowAdminLogin]=useState(false);
const [isAdmin,setIsAdmin]=useState(false);
const [newClient,setNewClient]=useState({name:'',website:'',seRanking:'',city:'',status:'schema'});
const [clientToDelete,setClientToDelete]=useState(null);
const [itemModalData,setItemModalData]=useState({});
const [itemModalStep,setItemModalStep]=useState(null);
const [saveStatus,setSaveStatus]=useState('idle');
const [toast,setToast]=useState(null);
const [statusFilter,setStatusFilter]=useState('all');

// INIT
useEffect(()=>{
console.log('üöÄ APP STARTING...');
console.log('üëÅÔ∏è VIEWER MODE (Read-only)');
initFirebase(VIEWER_FIREBASE_CONFIG);
},[]);

// FIREBASE INIT
const initFirebase=async(config)=>{
try{
console.log('üî• FIREBASE INIT START');
setSyncStatus('connecting');

if(!firebase.apps.length){
firebase.initializeApp(config);
console.log('   ‚úì App initialized');
}

const firestore=firebase.firestore();

try{
await firestore.disableNetwork();
await firestore.enableNetwork();
console.log('   ‚úì Network enabled');
}catch(e){
console.log('   ‚ö†Ô∏è Network toggle failed');
}

const testDoc=await firestore.collection('roadmaps').doc('main').get();
console.log('   ‚úì Connection OK');

setDb(firestore);
setSyncStatus('connected');

if(testDoc.exists){
const data=testDoc.data();
console.log('   üì• Data loaded');
setTasks(data.tasks||{});
setCustomItems(data.customItems||{});
setPlanningItems(data.planningItems||{});
setClients(data.clients||[]);
saveLocalData(data.tasks||{},data.customItems||{},data.planningItems||{},data.clients||[]);
}

firestore.collection('roadmaps').doc('main').onSnapshot((doc)=>{
if(doc.exists){
const data=doc.data();
console.log('   üîÑ Realtime update');
setTasks(data.tasks||{});
setCustomItems(data.customItems||{});
setPlanningItems(data.planningItems||{});
setClients(data.clients||[]);
saveLocalData(data.tasks||{},data.customItems||{},data.planningItems||{},data.clients||[]);
}
});

setLoading(false);
console.log('‚úÖ FIREBASE READY');
}catch(error){
console.error('‚ùå FIREBASE ERROR:',error);
setSyncStatus('error');
setLoading(false);
setToast({type:'error',message:'Verbinding mislukt'});
}
};

// SAVE DATA (alleen in admin mode)
const saveData=async(updates)=>{
if(!isAdmin){
console.log('‚ö†Ô∏è Viewer mode - no save');
return;
}
if(!db){
setToast({type:'error',message:'‚ùå Geen verbinding'});
return;
}

setSaveStatus('saving');

try{
const dataToSave={
...updates,
updatedAt:firebase.firestore.FieldValue.serverTimestamp()
};

await db.collection('roadmaps').doc('main').set(dataToSave,{merge:true});

saveLocalData(updates.tasks||tasks,updates.customItems||customItems,updates.planningItems||planningItems,updates.clients||clients);

console.log('‚úÖ SAVED');
setSaveStatus('success');
setTimeout(()=>setSaveStatus('idle'),2000);
}catch(error){
console.error('‚ùå Save error:',error);
setToast({type:'error',message:'Opslaan mislukt'});
setSaveStatus('error');
setTimeout(()=>setSaveStatus('idle'),3000);
}
};

// RELOAD
const reloadFromFirebase=async()=>{
if(!db)return;
setToast({type:'info',message:'üîÑ Herladen...'});
try{
const doc=await db.collection('roadmaps').doc('main').get();
if(doc.exists){
const data=doc.data();
setTasks(data.tasks||{});
setCustomItems(data.customItems||{});
setPlanningItems(data.planningItems||{});
setClients(data.clients||[]);
saveLocalData(data.tasks||{},data.customItems||{},data.planningItems||{},data.clients||[]);
setToast({type:'success',message:'‚úì Herladen voltooid'});
}
}catch(error){
setToast({type:'error',message:'Herladen mislukt'});
}
};

// ADMIN LOGIN
const handleAdminLogin=()=>{
setIsAdmin(true);
setShowAdminLogin(false);
setToast({type:'success',message:'‚úì Admin mode actief!'});
console.log('üîì ADMIN MODE ENABLED');
};

// CLIENT FUNCTIONS
const addClient=()=>{
if(!isAdmin)return;
if(!newClient.name){
setToast({type:'error',message:'Voer een bedrijfsnaam in'});
return;
}
const client={
id:Date.now(),
...newClient,
createdAt:new Date().toISOString()
};
const updatedClients=[...clients,client];
setClients(updatedClients);
saveData({tasks,customItems,planningItems,clients:updatedClients});
setShowModal(false);
setNewClient({name:'',website:'',seRanking:'',city:'',status:'schema'});
setToast({type:'success',message:'‚úì Klant toegevoegd'});
};

const updateClientStatus=(clientId,newStatus)=>{
if(!isAdmin)return;
const updatedClients=clients.map(c=>c.id===clientId?{...c,status:newStatus}:c);
setClients(updatedClients);
saveData({tasks,customItems,planningItems,clients:updatedClients});
setToast({type:'success',message:'‚úì Status bijgewerkt'});
};

const deleteClient=(id)=>{
if(!isAdmin)return;
const updatedClients=clients.filter(c=>c.id!==id);
setClients(updatedClients);
const newTasks={...tasks};
const newCustomItems={...customItems};
const newPlanningItems={...planningItems};
Object.keys(newTasks).forEach(key=>{if(key.startsWith(`${id}-`))delete newTasks[key];});
Object.keys(newCustomItems).forEach(key=>{if(key.startsWith(`${id}-`))delete newCustomItems[key];});
Object.keys(newPlanningItems).forEach(key=>{if(key.startsWith(`${id}-`))delete newPlanningItems[key];});
setTasks(newTasks);
setCustomItems(newCustomItems);
setPlanningItems(newPlanningItems);
saveData({tasks:newTasks,customItems:newCustomItems,planningItems:newPlanningItems,clients:updatedClients});
if(selectedClient===id){
setSelectedClient(null);
setActiveView('dashboard');
}
setShowDeleteModal(false);
setClientToDelete(null);
setToast({type:'success',message:'‚úì Klant verwijderd'});
};

// TASK FUNCTIONS
const toggleTask=(stepId,taskId)=>{
if(!isAdmin)return;
const key=`${selectedClient}-${stepId}-${taskId}`;
const newTasks={...tasks,[key]:!tasks[key]};
setTasks(newTasks);
saveData({tasks:newTasks,customItems,planningItems,clients});
};

const addCustomItem=(stepId,text)=>{
if(!isAdmin)return;
if(!text.trim())return;
const key=`${selectedClient}-${stepId}`;
const items=customItems[key]||[];
const newItem={id:Date.now(),text:text.trim(),completed:false};
const newCustomItems={...customItems,[key]:[...items,newItem]};
setCustomItems(newCustomItems);
saveData({tasks,customItems:newCustomItems,planningItems,clients});
};

const toggleCustomItem=(stepId,itemId)=>{
if(!isAdmin)return;
const key=`${selectedClient}-${stepId}`;
const items=customItems[key]||[];
const newItems=items.map(item=>item.id===itemId?{...item,completed:!item.completed}:item);
const newCustomItems={...customItems,[key]:newItems};
setCustomItems(newCustomItems);
saveData({tasks,customItems:newCustomItems,planningItems,clients});
};

const deleteCustomItem=(stepId,itemId)=>{
if(!isAdmin)return;
const key=`${selectedClient}-${stepId}`;
const items=customItems[key]||[];
const newItems=items.filter(item=>item.id!==itemId);
const newCustomItems={...customItems,[key]:newItems};
setCustomItems(newCustomItems);
saveData({tasks,customItems:newCustomItems,planningItems,clients});
};

// PLANNING FUNCTIONS
const addPlanningItem=(monthKey,text)=>{
if(!isAdmin)return;
if(!text.trim())return;
const key=`${selectedClient}-${monthKey}`;
const items=planningItems[key]||[];
const newItem={id:Date.now(),text:text.trim(),completed:false};
const newPlanningItems={...planningItems,[key]:[...items,newItem]};
setPlanningItems(newPlanningItems);
saveData({tasks,customItems,planningItems:newPlanningItems,clients});
};

const togglePlanningItem=(monthKey,itemId)=>{
if(!isAdmin)return;
const key=`${selectedClient}-${monthKey}`;
const items=planningItems[key]||[];
const newItems=items.map(item=>item.id===itemId?{...item,completed:!item.completed}:item);
const newPlanningItems={...planningItems,[key]:newItems};
setPlanningItems(newPlanningItems);
saveData({tasks,customItems,planningItems:newPlanningItems,clients});
};

const deletePlanningItem=(monthKey,itemId)=>{
if(!isAdmin)return;
const key=`${selectedClient}-${monthKey}`;
const items=planningItems[key]||[];
const newItems=items.filter(item=>item.id!==itemId);
const newPlanningItems={...planningItems,[key]:newItems};
setPlanningItems(newPlanningItems);
saveData({tasks,customItems,planningItems:newPlanningItems,clients});
};

// HELPERS
const getCurrentMonth=()=>{
const now=new Date();
return `${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,'0')}`;
};

const getClientProgress=(clientId)=>{
let total=0;
let completed=0;
ROADMAP_STEPS.forEach(step=>{
if(step.type==='planning')return;
if(step.tasks){
step.tasks.forEach(task=>{
total++;
const key=`${clientId}-${step.id}-${task.id}`;
if(tasks[key])completed++;
});
}
const customKey=`${clientId}-${step.id}`;
const customList=customItems[customKey]||[];
customList.forEach(item=>{
total++;
if(item.completed)completed++;
});
});
return total>0?Math.round((completed/total)*100):0;
};

const getClientStats=(clientId)=>{
let totalTasks=0;
let completedTasks=0;
let customCount=0;
ROADMAP_STEPS.forEach(step=>{
if(step.type==='planning')return;
if(step.tasks){
step.tasks.forEach(task=>{
totalTasks++;
const key=`${clientId}-${step.id}-${task.id}`;
if(tasks[key])completedTasks++;
});
}
const customKey=`${clientId}-${step.id}`;
const customList=customItems[customKey]||[];
customCount+=customList.length;
totalTasks+=customList.length;
customList.forEach(item=>{if(item.completed)completedTasks++;});
});
return{total:totalTasks,completed:completedTasks,custom:customCount};
};

const getStatusCounts=()=>{
const counts={};
STATUS_OPTIONS.forEach(opt=>counts[opt.key]=0);
clients.forEach(client=>{
const status=client.status||'schema';
counts[status]=(counts[status]||0)+1;
});
return counts;
};

const getFilteredClients=()=>{
if(statusFilter==='all')return clients;
return clients.filter(c=>(c.status||'schema')===statusFilter);
};

const getStatusInfo=(statusKey)=>{
return STATUS_OPTIONS.find(s=>s.key===statusKey)||STATUS_OPTIONS[3];
};

// LOADING
if(loading){
return(<div className="loading-screen"><div className="spinner"></div><div className="loading-text">Laden...</div></div>);
}

// DASHBOARD
if(activeView==='dashboard'){
const statusCounts=getStatusCounts();
const filteredClients=getFilteredClients();

return(
<div className={`app ${!isAdmin?'viewer-mode':''}`}>
<aside className="sidebar">
<div className="logo">
<div className="logo-text">THE FULLY BOOKERS</div>
<div className="logo-subtitle">SEO Roadmap</div>
</div>
<div className="sync-status">
<div className={`sync-dot sync-${syncStatus}`}/>
<span className="sync-text">
{syncStatus==='connected'&&'‚úì Verbonden'}
{syncStatus==='connecting'&&'‚ö†Ô∏è Verbinden...'}
{syncStatus==='error'&&'‚ùå Fout'}
</span>
{syncStatus==='connected'&&<button className="reload-btn" onClick={reloadFromFirebase}>üîÑ</button>}
</div>
<div className="mode-indicator">
<div className={`mode-badge ${isAdmin?'admin':'viewer'}`}>
{isAdmin?'üîì Admin':'üëÅÔ∏è Viewer'}
</div>
</div>
{isAdmin&&(
<div className="save-status">
<div className={`save-status-dot ${saveStatus}`}/>
<span className="save-status-text">
{saveStatus==='saving'&&'Opslaan...'}
{saveStatus==='success'&&'Opgeslagen'}
{saveStatus==='error'&&'Fout'}
</span>
</div>
)}
<nav>
<div className="nav-item active">
<span className="nav-icon">üìä</span>
<span className="nav-text">Dashboard</span>
<span className="nav-count">{clients.length}</span>
</div>
</nav>
</aside>
<main className="main">
<header className="header">
<h1 className="title">Klanten Dashboard</h1>
<p className="subtitle">Overzicht van alle SEO projecten</p>
</header>

<div className="status-overview">
{STATUS_OPTIONS.map(status=>(
<div key={status.key} className={`status-card ${status.key} ${statusFilter===status.key?'active':''}`} onClick={()=>setStatusFilter(statusFilter===status.key?'all':status.key)}>
<div className="status-icon">{status.icon}</div>
<div className="status-count">{statusCounts[status.key]||0}</div>
<div className="status-label">{status.label}</div>
</div>
))}
</div>

{statusFilter!=='all'&&(
<div className="filter-bar">
<span className="filter-label">Filter:</span>
<button className="filter-btn active" onClick={()=>setStatusFilter('all')}>
{getStatusInfo(statusFilter).icon} {getStatusInfo(statusFilter).label}
<span style={{marginLeft:'4px'}}>√ó</span>
</button>
</div>
)}

<div className="dashboard-grid">
{filteredClients.map(client=>{
const stats=getClientStats(client.id);
const progress=getClientProgress(client.id);
const statusInfo=getStatusInfo(client.status||'schema');
return(
<div key={client.id} className="client-card" onClick={()=>{setSelectedClient(client.id);setActiveView('roadmap');}}>
<div className={`client-status-badge ${statusInfo.key}`}>
{statusInfo.icon}
</div>
<div className="client-header">
<h3 className="client-name">{client.name}</h3>
</div>
<div className="client-meta">
{client.city&&<span>üìç {client.city}</span>}
{client.website&&(<><br/><a href={client.website} target="_blank" className="client-link" onClick={(e)=>e.stopPropagation()}>üåê Website</a></>)}
{client.seRanking&&(<a href={client.seRanking} target="_blank" className="client-link" onClick={(e)=>e.stopPropagation()}>üìä SE Ranking</a>)}
</div>
<div className="client-stats">
<div className="stat-box">
<div className="stat-number">{stats.total}</div>
<div className="stat-label">Taken</div>
</div>
<div className="stat-box">
<div className="stat-number">{stats.completed}</div>
<div className="stat-label">Afgerond</div>
</div>
<div className="stat-box">
<div className="stat-number">{stats.custom}</div>
<div className="stat-label">Custom</div>
</div>
</div>
<div className="progress-section">
<div className="progress-label">
<span>Voortgang</span>
<span className="progress-percentage">{progress}%</span>
</div>
<div className="progress-bar">
<div className="progress-fill" style={{width:`${progress}%`}}/>
</div>
</div>
{isAdmin&&<button className="delete-btn" onClick={(e)=>{e.stopPropagation();setClientToDelete(client.id);setShowDeleteModal(true);}}>üóëÔ∏è</button>}
</div>
);
})}
{isAdmin&&(
<div className="add-client-card" onClick={()=>setShowModal(true)}>
<div className="add-icon">+</div>
<div className="add-text">Nieuwe Klant</div>
</div>
)}
{!isAdmin&&(
<div className="add-client-card" style={{position:'relative',cursor:'not-allowed',opacity:0.6}}>
<div className="add-icon">üîí</div>
<div className="add-text">Admin Rechten Vereist</div>
<div className="viewer-overlay">
<div className="viewer-message">üëÅÔ∏è Viewer Mode - Alleen Lezen</div>
</div>
</div>
)}
</div>

{filteredClients.length===0&&statusFilter!=='all'&&(
<div className="empty-state">
<div className="empty-icon">{getStatusInfo(statusFilter).icon}</div>
<div className="empty-text">Geen klanten met status "{getStatusInfo(statusFilter).label}"</div>
</div>
)}
</main>

{!isAdmin&&(
<button className="admin-login-btn" onClick={()=>setShowAdminLogin(true)}>
üîê Admin Login
</button>
)}

{showAdminLogin&&<AdminLoginModal onLogin={handleAdminLogin} onCancel={()=>setShowAdminLogin(false)}/>}
</div>
);
}

// ROADMAP VIEW
const currentClient=clients.find(c=>c.id===selectedClient);
if(!currentClient)return null;

const currentStep=ROADMAP_STEPS.find(s=>s.id===activeStep);
const stats=getClientStats(selectedClient);
const progress=getClientProgress(selectedClient);
const statusInfo=getStatusInfo(currentClient.status||'schema');

return(
<div className={`app ${!isAdmin?'viewer-mode':''}`}>
<aside className="sidebar">
<div className="logo">
<div className="logo-text">THE FULLY BOOKERS</div>
<div className="logo-subtitle">SEO Roadmap</div>
</div>
<div className="sync-status">
<div className={`sync-dot sync-${syncStatus}`}/>
<span className="sync-text">
{syncStatus==='connected'&&'‚úì Verbonden'}
{syncStatus==='connecting'&&'‚ö†Ô∏è Verbinden...'}
{syncStatus==='error'&&'‚ùå Fout'}
</span>
{syncStatus==='connected'&&<button className="reload-btn" onClick={reloadFromFirebase}>üîÑ</button>}
</div>
<div className="mode-indicator">
<div className={`mode-badge ${isAdmin?'admin':'viewer'}`}>
{isAdmin?'üîì Admin':'üëÅÔ∏è Viewer'}
</div>
</div>
{isAdmin&&(
<div className="save-status">
<div className={`save-status-dot ${saveStatus}`}/>
<span className="save-status-text">
{saveStatus==='saving'&&'Opslaan...'}
{saveStatus==='success'&&'Opgeslagen'}
{saveStatus==='error'&&'Fout'}
</span>
</div>
)}
<nav>
<div className="nav-item" onClick={()=>setActiveView('dashboard')}>
<span className="nav-icon">üìä</span>
<span className="nav-text">Dashboard</span>
</div>
{ROADMAP_STEPS.map(step=>(
<div key={step.id} className={`nav-item ${activeStep===step.id?'active':''}`} onClick={()=>setActiveStep(step.id)}>
<span className="nav-icon">{step.icon}</span>
<span className="nav-text">{step.name}</span>
</div>
))}
</nav>
</aside>
<main className="main">
<div className="current-client-banner">
<div className="banner-left">
<div className="banner-text">
Project: <span className="banner-client">{currentClient.name}</span>
</div>
<div className={`banner-status-display`} style={{borderLeft:`4px solid var(--${statusInfo.color})`}}>
<span className="banner-status-icon">{statusInfo.icon}</span>
<span>{statusInfo.label}</span>
</div>
</div>
{isAdmin&&(
<div className="banner-buttons">
<button className="banner-btn" onClick={()=>setShowStatusModal(true)}>Status Wijzigen</button>
<button className="banner-btn danger" onClick={()=>{setClientToDelete(selectedClient);setShowDeleteModal(true);}}>Verwijderen</button>
</div>
)}
</div>

<header className="header">
<h1 className="title">{currentStep.icon} {currentStep.name}</h1>
<p className="subtitle">Voortgang: {stats.completed} / {stats.total} taken ({progress}%)</p>
</header>

{currentStep.type==='planning'?(
<>
{currentStep.months.map(month=>(
<PlanningMonth
key={month.key}
month={month}
selectedClient={selectedClient}
planningItems={planningItems}
onAdd={addPlanningItem}
onToggle={togglePlanningItem}
onDelete={deletePlanningItem}
getCurrentMonth={getCurrentMonth}
isAdmin={isAdmin}
/>
))}
</>
):(
<>
{currentStep.tasks&&currentStep.tasks.map(task=>{
const key=`${selectedClient}-${currentStep.id}-${task.id}`;
const isChecked=!!tasks[key];
return(
<div key={task.id} className={`task-card ${isChecked?'completed':''} ${isAdmin?'clickable':''}`} onClick={()=>{if(isAdmin)toggleTask(currentStep.id,task.id);}}>
<div className={`checkbox ${isChecked?'checked':''} ${isAdmin?'clickable':''}`}/>
<div className="task-content">
<div className="task-title">{task.text}</div>
<div className="task-desc">{task.desc}</div>
</div>
</div>
);
})}

<div className="section">
<div className="section-header">
Custom Items
{isAdmin&&<button className="add-item-btn" onClick={()=>{setItemModalStep(currentStep.id);setItemModalData({});setShowItemModal(true);}}>+ Toevoegen</button>}
</div>
{(customItems[`${selectedClient}-${currentStep.id}`]||[]).map(item=>(
<div key={item.id} className={`task-card ${item.completed?'completed':''} ${isAdmin?'clickable':''}`}>
<div className={`checkbox ${item.completed?'checked':''} ${isAdmin?'clickable':''}`} onClick={()=>{if(isAdmin)toggleCustomItem(currentStep.id,item.id);}}/>
<div className="task-content">
<div className="task-title">{item.text}</div>
</div>
{isAdmin&&<button className="delete-item-btn" onClick={()=>deleteCustomItem(currentStep.id,item.id)}>üóëÔ∏è</button>}
</div>
))}
</div>
</>
)}
</main>

{!isAdmin&&(
<button className="admin-login-btn" onClick={()=>setShowAdminLogin(true)}>
üîê Admin Login
</button>
)}

{showAdminLogin&&<AdminLoginModal onLogin={handleAdminLogin} onCancel={()=>setShowAdminLogin(false)}/>}

{isAdmin&&showModal&&(
<div className="modal-overlay" onClick={()=>setShowModal(false)}>
<div className="modal" onClick={(e)=>e.stopPropagation()}>
<h2 className="modal-title">Nieuwe Klant Toevoegen</h2>
<div className="input-group">
<label className="input-label">Bedrijfsnaam *</label>
<input type="text" className="modal-input" value={newClient.name} onChange={(e)=>setNewClient({...newClient,name:e.target.value})} autoFocus/>
</div>
<div className="input-group">
<label className="input-label">Website</label>
<input type="text" className="modal-input" placeholder="https://..." value={newClient.website} onChange={(e)=>setNewClient({...newClient,website:e.target.value})}/>
</div>
<div className="input-group">
<label className="input-label">SE Ranking Link</label>
<input type="text" className="modal-input" placeholder="https://..." value={newClient.seRanking} onChange={(e)=>setNewClient({...newClient,seRanking:e.target.value})}/>
</div>
<div className="input-group">
<label className="input-label">Plaats</label>
<input type="text" className="modal-input" value={newClient.city} onChange={(e)=>setNewClient({...newClient,city:e.target.value})}/>
</div>
<div className="input-group">
<label className="input-label">Status</label>
<div className="status-select">
{STATUS_OPTIONS.map(status=>(
<div key={status.key} className={`status-option ${newClient.status===status.key?'selected':''}`} onClick={()=>setNewClient({...newClient,status:status.key})}>
<span className="status-option-icon">{status.icon}</span>
<span className="status-option-text">{status.label}</span>
</div>
))}
</div>
</div>
<div className="modal-buttons">
<button className="btn btn-primary" onClick={addClient}>Opslaan</button>
<button className="btn btn-secondary" onClick={()=>{setShowModal(false);setNewClient({name:'',website:'',seRanking:'',city:'',status:'schema'});}}>Annuleren</button>
</div>
</div>
</div>
)}

{isAdmin&&showStatusModal&&(
<div className="modal-overlay" onClick={()=>setShowStatusModal(false)}>
<div className="modal" onClick={(e)=>e.stopPropagation()}>
<h2 className="modal-title">Status Wijzigen</h2>
<div className="status-select">
{STATUS_OPTIONS.map(status=>(
<div key={status.key} className={`status-option ${currentClient.status===status.key?'selected':''}`} onClick={()=>{updateClientStatus(selectedClient,status.key);setShowStatusModal(false);}}>
<span className="status-option-icon">{status.icon}</span>
<span className="status-option-text">{status.label}</span>
</div>
))}
</div>
<div className="modal-buttons">
<button className="btn btn-secondary" onClick={()=>setShowStatusModal(false)}>Annuleren</button>
</div>
</div>
</div>
)}

{isAdmin&&showDeleteModal&&(
<div className="modal-overlay" onClick={()=>setShowDeleteModal(false)}>
<div className="modal" onClick={(e)=>e.stopPropagation()}>
<h2 className="modal-title">Klant Verwijderen?</h2>
<p style={{marginBottom:'24px',color:'var(--text-light)'}}>Dit verwijdert alle taken en planning. Deze actie kan niet ongedaan gemaakt worden.</p>
<div className="modal-buttons">
<button className="btn btn-danger" onClick={()=>deleteClient(clientToDelete)}>Verwijderen</button>
<button className="btn btn-secondary" onClick={()=>{setShowDeleteModal(false);setClientToDelete(null);}}>Annuleren</button>
</div>
</div>
</div>
)}

{isAdmin&&showItemModal&&(
<div className="modal-overlay" onClick={()=>setShowItemModal(false)}>
<div className="modal" onClick={(e)=>e.stopPropagation()}>
<h2 className="modal-title">Custom Item Toevoegen</h2>
<div className="input-group">
<label className="input-label">Taak omschrijving</label>
<input type="text" className="modal-input" value={itemModalData.text||''} onChange={(e)=>setItemModalData({...itemModalData,text:e.target.value})} autoFocus onKeyPress={(e)=>{if(e.key==='Enter'){addCustomItem(itemModalStep,itemModalData.text||'');setShowItemModal(false);}}}/>
</div>
<div className="modal-buttons">
<button className="btn btn-primary" onClick={()=>{addCustomItem(itemModalStep,itemModalData.text||'');setShowItemModal(false);}}>Toevoegen</button>
<button className="btn btn-secondary" onClick={()=>setShowItemModal(false)}>Annuleren</button>
</div>
</div>
</div>
)}

{toast&&<Toast message={toast.message} type={toast.type} onClose={()=>setToast(null)}/>}
</div>
);
}

// RENDER
ReactDOM.render(<App/>,document.getElementById('root'));
</script>
</body>
</html>

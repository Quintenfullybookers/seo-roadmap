<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SEO Roadmap - The Fully Bookers</title>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
<style>
:root{--blue:#0066CC;--blue-dark:#004C99;--blue-light:#E6F2FF;--green:#10B981;--green-bg:#D1FAE5;--orange:#F59E0B;--orange-bg:#FEF3C7;--yellow:#EAB308;--yellow-bg:#FEF9C3;--red:#DC2626;--red-bg:#FEE2E2;--lightblue:#3B82F6;--lightblue-bg:#DBEAFE;--gray:#6B7280;--gray-bg:#F3F4F6;--text:#111827;--text-light:#6B7280;--border:#E5E7EB;--bg:#FAFAFA;--white:#FFFFFF;--shadow-sm:0 1px 2px 0 rgb(0 0 0/.05);--shadow:0 4px 6px -1px rgb(0 0 0/.1);--shadow-lg:0 10px 15px -3px rgb(0 0 0/.1)}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',-apple-system,BlinkMacSystemFont,sans-serif;background:var(--bg);color:var(--text);line-height:1.6}
.app{min-height:100vh;position:relative}
.sidebar{width:280px;background:var(--white);border-right:1px solid var(--border);padding:24px 0;position:fixed;top:0;left:0;height:100vh;overflow-y:auto;z-index:100}
.logo{padding:0 24px 24px;border-bottom:1px solid var(--border);margin-bottom:24px}
.logo-text{font-family:'DM Sans',sans-serif;font-size:13px;font-weight:700;color:var(--blue);letter-spacing:.5px;margin-bottom:4px}
.logo-subtitle{font-size:24px;font-weight:700;color:var(--text);font-family:'DM Sans',sans-serif}
.sync-status{padding:0 24px 16px;font-size:12px;display:flex;align-items:center;gap:8px;border-bottom:1px solid var(--border);margin-bottom:16px}
.sync-dot{width:10px;height:10px;border-radius:50%;flex-shrink:0}
.sync-connected{background:var(--green)}
.sync-connecting{background:var(--orange);animation:pulse 1.5s infinite}
.sync-error{background:var(--red)}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}
.sync-text{flex:1;font-size:11px;color:var(--text-light)}
.reload-btn{padding:4px 8px;font-size:10px;background:var(--blue);color:white;border:none;border-radius:4px;cursor:pointer}
.reload-btn:hover{background:var(--blue-dark)}
.mode-indicator{padding:0 24px 8px;font-size:11px;display:flex;align-items:center;gap:6px}
.mode-badge{padding:4px 8px;border-radius:4px;font-weight:600;font-size:10px}
.mode-badge.viewer{background:var(--blue-light);color:var(--blue)}
.mode-badge.admin{background:var(--green-bg);color:var(--green)}
.save-status{padding:0 24px 8px;font-size:11px;color:var(--text-light);display:flex;align-items:center;gap:6px}
.save-status-dot{width:6px;height:6px;border-radius:50%;background:var(--gray)}
.save-status-dot.saving{background:var(--orange);animation:pulse 1s infinite}
.save-status-dot.success{background:var(--green)}
.save-status-dot.error{background:var(--red)}
.nav-item{padding:10px 24px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:12px;border-left:3px solid transparent}
.nav-item:hover{background:var(--blue-light)}
.nav-item.active{background:var(--blue-light);border-left-color:var(--blue)}
.nav-icon{font-size:18px}
.nav-text{flex:1;font-size:14px;font-weight:500}
.nav-count{font-size:12px;color:var(--text-light);background:var(--gray-bg);padding:2px 8px;border-radius:12px}
.main{flex:1;padding:48px 64px;max-width:1400px;margin-left:280px}
.header{margin-bottom:32px}
.title{font-size:36px;font-weight:700;color:var(--text);margin-bottom:8px;font-family:'DM Sans',sans-serif}
.subtitle{font-size:16px;color:var(--text-light)}
.status-overview{display:grid;grid-template-columns:repeat(5,1fr);gap:16px;margin-bottom:32px}
.status-card{background:var(--white);border:1px solid var(--border);border-radius:12px;padding:20px;text-align:center;transition:all .2s;cursor:pointer}
.status-card:hover{box-shadow:var(--shadow);transform:translateY(-2px)}
.status-card.active{border-width:2px;box-shadow:var(--shadow)}
.status-icon{font-size:32px;margin-bottom:8px}
.status-count{font-size:28px;font-weight:700;font-family:'DM Sans',sans-serif;margin-bottom:4px}
.status-label{font-size:12px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}
.status-card.opstartfase .status-count{color:var(--lightblue)}
.status-card.kritiek .status-count{color:var(--red)}
.status-card.aandacht .status-count{color:var(--orange)}
.status-card.schema .status-count{color:var(--yellow)}
.status-card.top .status-count{color:var(--green)}
.filter-bar{background:var(--white);border:1px solid var(--border);border-radius:8px;padding:12px 16px;margin-bottom:24px;display:flex;align-items:center;gap:12px}
.filter-label{font-size:13px;font-weight:600;color:var(--text-light)}
.filter-btn{padding:6px 12px;border:1px solid var(--border);background:var(--white);border-radius:6px;font-size:13px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:6px}
.filter-btn:hover{background:var(--bg)}
.filter-btn.active{background:var(--blue);color:white;border-color:var(--blue)}
.dashboard-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:24px;margin-bottom:48px}
.client-card{background:var(--white);border:1px solid var(--border);border-radius:12px;padding:24px;transition:all .2s;position:relative;cursor:pointer}
.client-card:hover{box-shadow:var(--shadow-lg);transform:translateY(-2px)}
.client-status-badge{position:absolute;top:12px;right:12px;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px;box-shadow:var(--shadow)}
.client-status-badge.opstartfase{background:var(--lightblue-bg)}
.client-status-badge.kritiek{background:var(--red-bg)}
.client-status-badge.aandacht{background:var(--orange-bg)}
.client-status-badge.schema{background:var(--yellow-bg)}
.client-status-badge.top{background:var(--green-bg)}
.client-header{display:flex;justify-content:space-between;align-items:start;margin-bottom:12px}
.client-name{font-size:18px;font-weight:700;color:var(--text);font-family:'DM Sans',sans-serif;padding-right:50px}
.client-meta{font-size:13px;color:var(--text-light);margin-bottom:12px}
.client-link{color:var(--blue);text-decoration:none;display:inline-flex;align-items:center;gap:4px;font-size:12px;margin-right:12px}
.client-link:hover{text-decoration:underline}
.delete-btn{background:var(--red-bg);color:var(--red);border:none;width:32px;height:32px;border-radius:6px;cursor:pointer;font-size:16px;transition:all .2s;display:flex;align-items:center;justify-content:center}
.delete-btn:hover{background:var(--red);color:var(--white)}
.client-stats{display:grid;grid-template-columns:1fr 1fr 1fr;gap:16px;margin-bottom:16px}
.stat-box{text-align:center}
.stat-number{font-size:24px;font-weight:700;color:var(--blue);font-family:'DM Sans',sans-serif}
.stat-label{font-size:11px;text-transform:uppercase;letter-spacing:.5px;color:var(--text-light);margin-top:4px}
.progress-section{margin-top:16px}
.progress-label{display:flex;justify-content:space-between;font-size:12px;color:var(--text-light);margin-bottom:8px}
.progress-percentage{font-weight:600;color:var(--blue)}
.progress-bar{height:8px;background:var(--gray-bg);border-radius:4px;overflow:hidden}
.progress-fill{height:100%;background:linear-gradient(90deg,var(--blue),var(--blue-dark));transition:width .3s ease;border-radius:4px}
.planning-box{margin-top:16px;padding:12px;background:var(--blue-light);border-radius:6px}
.planning-title{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--blue);margin-bottom:8px}
.planning-item{font-size:12px;color:var(--text);margin-bottom:3px;line-height:1.4}
.pm-overview{display:flex;align-items:center;gap:12px;margin-bottom:24px;flex-wrap:wrap}
.pm-label{font-size:13px;font-weight:700;color:var(--text);text-transform:uppercase;letter-spacing:.5px}
.pm-filter-btn{padding:8px 16px;border:1px solid var(--border);background:var(--white);border-radius:20px;font-size:13px;cursor:pointer;transition:all .2s;display:flex;align-items:center;font-weight:500}
.pm-filter-btn:hover{background:var(--bg);transform:translateY(-1px);box-shadow:0 2px 4px rgba(0,0,0,.05)}
.pm-filter-btn.active{border-width:2px;font-weight:600;box-shadow:0 2px 8px rgba(0,0,0,.1)}
.pm-badge{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:12px;font-size:11px;font-weight:600;color:white;margin-top:6px}
.add-client-card{background:var(--blue-light);border:2px dashed var(--blue);border-radius:12px;padding:48px 24px;display:flex;flex-direction:column;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}
.add-client-card:hover{background:var(--blue);border-color:var(--blue-dark)}
.add-client-card:hover .add-icon,.add-client-card:hover .add-text{color:var(--white)}
.add-icon{font-size:48px;color:var(--blue);margin-bottom:12px;transition:all .2s}
.add-text{font-size:16px;font-weight:600;color:var(--blue);transition:all .2s}
.section{margin-bottom:32px}
.section-header{font-size:14px;font-weight:600;color:var(--text);margin-bottom:12px;display:flex;justify-content:space-between;align-items:center;padding-bottom:8px;border-bottom:2px solid var(--blue-light)}
.add-item-btn{background:var(--blue);color:var(--white);border:none;padding:6px 12px;border-radius:6px;font-size:12px;font-weight:600;cursor:pointer;transition:all .2s}
.add-item-btn:hover{background:var(--blue-dark)}
.current-client-banner{background:var(--blue-light);padding:16px 20px;border-radius:8px;margin-bottom:32px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px}
.banner-left{display:flex;align-items:center;gap:16px;flex:1}
.banner-text{font-size:14px;color:var(--blue-dark)}
.banner-client{font-weight:700;color:var(--blue)}
.banner-status-display{display:flex;align-items:center;gap:8px;padding:8px 16px;background:white;border-radius:6px;font-size:13px;font-weight:600}
.banner-status-icon{font-size:20px}
.banner-buttons{display:flex;gap:8px}
.banner-btn{background:var(--blue);color:var(--white);border:none;padding:8px 16px;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s}
.banner-btn:hover{background:var(--blue-dark)}
.banner-btn.danger{background:var(--red)}
.banner-btn.danger:hover{background:#B91C1C}
.task-card{background:var(--white);border:1px solid var(--border);border-radius:8px;padding:16px 20px;margin-bottom:8px;display:flex;align-items:center;gap:16px;transition:all .2s}
.task-card.clickable{cursor:pointer}
.task-card.clickable:hover{box-shadow:var(--shadow);transform:translateY(-1px)}
.task-card.completed{background:var(--bg);opacity:.7}
.checkbox{width:20px;height:20px;border:2px solid var(--border);border-radius:6px;transition:all .2s;flex-shrink:0;display:flex;align-items:center;justify-content:center}
.checkbox.clickable{cursor:pointer}
.checkbox.clickable:hover{border-color:var(--blue)}
.checkbox.checked{background:var(--blue);border-color:var(--blue)}
.checkbox.checked::after{content:'‚úì';color:white;font-size:14px;font-weight:bold}
.task-content{flex:1}
.task-title{font-size:15px;font-weight:500;color:var(--text);margin-bottom:4px}
.task-desc{font-size:13px;color:var(--text-light)}
.task-card.completed .task-title{text-decoration:line-through;color:var(--text-light)}
.delete-item-btn{background:none;border:none;color:var(--text-light);cursor:pointer;transition:all .2s;padding:4px 8px;font-size:16px}
.delete-item-btn:hover{color:var(--red)}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000}
.modal{background:var(--white);border-radius:12px;padding:32px;max-width:500px;width:90%;max-height:90vh;overflow-y:auto}
.modal-title{font-size:24px;font-weight:700;margin-bottom:24px;font-family:'DM Sans',sans-serif}
.input-group{margin-bottom:20px}
.input-label{display:block;font-size:13px;font-weight:600;color:var(--text);margin-bottom:8px}
.modal-input{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:6px;font-size:14px;font-family:inherit;transition:all .2s}
.modal-input:focus{outline:none;border-color:var(--blue);box-shadow:0 0 0 3px var(--blue-light)}
.status-select{display:grid;gap:8px;margin-top:8px}
.status-option{padding:12px 16px;border:2px solid var(--border);border-radius:8px;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:12px;background:var(--white)}
.status-option:hover{border-color:var(--blue);background:var(--blue-light)}
.status-option.selected{border-color:var(--blue);background:var(--blue-light);font-weight:600}
.status-option-icon{font-size:24px}
.status-option-text{flex:1;font-size:14px}
.modal-buttons{display:flex;gap:12px;margin-top:24px}
.btn{padding:12px 24px;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;font-family:inherit}
.btn-primary{background:var(--blue);color:var(--white)}
.btn-primary:hover{background:var(--blue-dark)}
.btn-secondary{background:var(--gray-bg);color:var(--text)}
.btn-secondary:hover{background:var(--gray)}
.btn-danger{background:var(--red);color:var(--white)}
.btn-danger:hover{background:#B91C1C}
.loading-screen{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;background:var(--bg)}
.spinner{width:48px;height:48px;border:4px solid var(--border);border-top-color:var(--blue);border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}
.loading-text{margin-top:16px;color:var(--text-light);font-size:14px}
.admin-login-btn{position:fixed;bottom:24px;right:24px;background:var(--blue);color:white;border:none;padding:12px 20px;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer;box-shadow:var(--shadow-lg);transition:all .2s;display:flex;align-items:center;gap:8px;z-index:999}
.admin-login-btn:hover{background:var(--blue-dark);transform:translateY(-2px)}
.toast{position:fixed;bottom:24px;right:24px;background:var(--white);border:1px solid var(--border);border-radius:8px;padding:16px 20px;box-shadow:var(--shadow-lg);display:flex;align-items:center;gap:12px;z-index:2000;animation:slideIn .3s ease}
.toast.hiding{animation:slideOut .3s ease;opacity:0}
@keyframes slideIn{from{transform:translateX(400px);opacity:0}to{transform:translateX(0);opacity:1}}
@keyframes slideOut{from{transform:translateX(0);opacity:1}to{transform:translateX(400px);opacity:0}}
.toast-success{border-left:4px solid var(--green)}
.toast-error{border-left:4px solid var(--red)}
.toast-info{border-left:4px solid var(--blue)}
.toast-icon{font-size:20px}
.toast-text{font-size:14px;color:var(--text)}
.empty-state{text-align:center;padding:80px 20px;color:var(--text-light)}
.empty-icon{font-size:64px;margin-bottom:16px;opacity:.5}
.empty-text{font-size:18px;font-weight:600;margin-bottom:8px}
.viewer-overlay{position:absolute;inset:0;background:rgba(255,255,255,.7);display:flex;align-items:center;justify-content:center;border-radius:8px;opacity:0;transition:opacity .2s}
.viewer-mode .add-client-card:hover .viewer-overlay{opacity:1}
.viewer-message{background:var(--white);padding:16px 24px;border-radius:8px;box-shadow:var(--shadow);font-size:13px;color:var(--text);font-weight:600}
.joke-footer{margin-top:48px;padding:12px 0;text-align:center;border-top:1px solid var(--border)}
.joke-text{font-size:11px;color:var(--text-light);font-style:italic;line-height:1.4}
.export-btn{margin:16px 24px 0;padding:10px 16px;background:var(--green);color:white;border:none;border-radius:6px;font-size:13px;font-weight:600;cursor:pointer;transition:all .2s;display:flex;align-items:center;gap:8px;justify-content:center}
.export-btn:hover{background:#059669;transform:translateY(-1px);box-shadow:var(--shadow)}
</style>
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const {useState,useEffect}=React;

// HARDCODED CREDENTIALS
const VIEWER_FIREBASE_CONFIG={
apiKey:"AIzaSyD5o1oXmigR7KWaHkZPPVNRHiXxhqxTOJA",
projectId:"seo-roadmap",
authDomain:"seo-roadmap.firebaseapp.com"
};

// ADMIN WACHTWOORD
const ADMIN_PASSWORD="D0rsrq!W%2CAtqq*";

// SEO JOKES
const SEO_JOKES=[
"Why did the SEO expert cross the road? To get to the top of the SERPs on the other side! üö∂‚Äç‚ôÇÔ∏è",
"SEO is easy. It's just like riding a bike. Except the bike is on fire, and you're on fire, everything is on fire. üî•",
"My SEO is so good, I rank for keywords I didn't even optimize for! üìà",
"Why do SEO experts love the gym? They're always working on their core web vitals! üí™",
"I tried to rank for 'world's best SEO' but Google said 'citation needed'. üòÖ",
"What's an SEO specialist's favorite drink? Link juice! üçπ",
"Why don't black hat SEOs go to heaven? Too many 301 redirects! üòà",
"My keywords are like my jokes - nobody searches for them. ü§∑‚Äç‚ôÇÔ∏è",
"What's an SEO's favorite music genre? Alt-text rock! üé∏",
"Why was the SEO expert always calm? Because they had great organic reach! üßò‚Äç‚ôÇÔ∏è",
"How do SEO experts party? They throw a canonical party - no duplicates allowed! üéâ",
"Why did the SEO break up with JavaScript? Too many rendering issues! üíî",
"What do you call an SEO expert's dog? A search engine retriever! üêï",
"Why do SEOs love coffee? It helps with their morning crawl! ‚òï",
"What's an SEO's favorite sport? Link building! üèóÔ∏è",
"Why was the website cold? It had too many broken links! ü•∂",
"How does Google keep fit? With PageRank exercises! üèÉ‚Äç‚ôÇÔ∏è",
"What did the H1 say to the H2? You're not my type! üòÇ",
"Why do SEOs hate the beach? Too much duplicate content in the sand! üèñÔ∏è",
"What's an SEO's favorite movie? The Link King! ü¶Å",
"Why did the SEO go to therapy? To work on their meta issues! üõãÔ∏è",
"How do you comfort a sad SEO? Give them a backlink hug! ü§ó",
"What's an SEO's favorite game? Hide and seek - with Google! üîç",
"Why do SEOs make terrible comedians? Their jokes never rank! üé§",
"What do you call a lazy SEO? A no-follow specialist! üò¥",
"Why was the SEO expert always hungry? They kept eating up keywords! üçï",
"What's an SEO's favorite dance? The Google shuffle! üíÉ",
"Why don't SEOs like the dark? They can't see the light mode! üåô",
"How do SEOs celebrate success? With a search party! üéä",
"What's an SEO's favorite vegetable? Organic carrots! ü•ï",
"Why did the SEO fail at poker? Too transparent - no hidden text! üÉè",
"What do you call an SEO in winter? A cold crawler! ‚ùÑÔ∏è",
"Why are SEOs bad at relationships? They're always looking for better ranking! üíî",
"What's an SEO's favorite TV show? Game of Rankings! üì∫",
"Why do SEOs love birthdays? More backlinks every year! üéÇ",
"How do SEOs stay cool? With plenty of cache! üßä",
"What's an SEO's worst nightmare? A Google penalty! üò±",
"Why did the SEO go to the doctor? Bad case of crawl errors! üè•",
"What do you call an honest SEO? White hat and proud! üé©",
"Why are SEOs good at parties? They know how to engage users! ü•≥"
];

// STATUS OPTIONS
const STATUS_OPTIONS=[
{key:'opstartfase',label:'Opstartfase',icon:'üîµ',color:'lightblue'},
{key:'kritiek',label:'Kritiek',icon:'üî¥',color:'red'},
{key:'aandacht',label:'Aandacht Vereist',icon:'üü†',color:'orange'},
{key:'schema',label:'Op Schema',icon:'üü°',color:'yellow'},
{key:'top',label:'Loopt als een ‚òÄÔ∏è',icon:'üü¢',color:'green'}
];

// PROJECT MANAGERS
const PROJECT_MANAGERS=[
{key:'hugo',label:'Hugo',icon:'üë®',color:'#4A90E2'},
{key:'michelle',label:'Michelle',icon:'üë©',color:'#E24A90'},
{key:'none',label:'Geen PM',icon:'‚ö™',color:'#CCCCCC'}
];

// ORIGINELE STAPPEN MET SUBKOPJES
const STEPS=[
{id:1,name:'Indexatie & Setup',icon:'üîç',sections:[
{title:'Search Console',tasks:[{id:'1-1',title:'GSC aanmaken',desc:'Verifieer via DNS'},{id:'1-2',title:'Sitemap aanmaken',desc:''},{id:'1-3',title:'Sitemap indienen',desc:'In GSC'}]},
{title:'Analytics',tasks:[{id:'1-4',title:'GA4 installeren',desc:'Via GTM'},{id:'1-5',title:'GA4 koppelen',desc:'Aan GSC'}]},
{title:'Robots',tasks:[{id:'1-6',title:'Robots.txt check',desc:'Check blokkades'},{id:'1-7',title:'Indexering check',desc:'URL-inspectie'},{id:'1-8',title:'Indexering aanvragen',desc:'Nieuwe paginas'}]}
]},
{id:2,name:'GMB',icon:'üìç',sections:[{title:'Google My Business',tasks:[{id:'2-1',title:'GMB koppelen',desc:''},{id:'2-2',title:'GMB Locaties',desc:'Alle locaties toegevoegd'},{id:'2-3',title:'GMB Automations Reviews',desc:'Ingesteld'},{id:'2-4',title:'GMB Questionaire',desc:'Ingevuld door klant'}]}]},
{id:3,name:'Zoekwoord Onderzoek',icon:'üéØ',sections:[
{title:'Tools',tasks:[{id:'3-1',title:'Toevoegen in SE Ranking',desc:''},{id:'3-2',title:'Toevoegen in Localfalcon',desc:''},{id:'3-3',title:'Toevoegen Zoekwoorden SE Ranking',desc:''}]},
{title:'Zoekwoorden Voorstel',tasks:[{id:'3-4',title:'Zoekwoorden voorstel',desc:''},{id:'3-5',title:'Feedback klant',desc:''},{id:'3-6',title:'Verwerkt in SE Ranking',desc:''}]},
{title:'0-meting',tasks:[{id:'3-7',title:'0-Meting',desc:''},{id:'3-8',title:'0-Meting Lokaal',desc:''},{id:'3-9',title:'Pagespeed test',desc:''}]}
]},
{id:4,name:'Technische Optimalisatie',icon:'üîß',sections:[
{title:'Snelheid',tasks:[{id:'4-1',title:'PageSpeed test',desc:'Streef 80+'},{id:'4-2',title:'Afbeeldingen',desc:'Comprimeer'}]},
{title:'Mobile',tasks:[{id:'4-3',title:'Mobile test',desc:'Check mobile'}]},
{title:'Techniek',tasks:[{id:'4-4',title:'SSL-certificaat',desc:'HTTPS'},{id:'4-5',title:'301 redirects',desc:'Oude urls'},{id:'4-6',title:'404 oplossen',desc:'Check GSC'},{id:'4-7',title:'Broken links',desc:'Screaming Frog'},{id:'4-8',title:'Structured data',desc:'Schema.org'}]},
{title:'On-Page',tasks:[{id:'4-9',title:'Title tags',desc:'50-60 tekens'},{id:'4-10',title:'Meta descriptions',desc:'150-160 tekens'},{id:'4-11',title:'Headers',desc:'1 H1, H2s'},{id:'4-12',title:'URL-structuur',desc:'Kort + keyword'},{id:'4-13',title:'Alt-tekst',desc:'5-15 woorden'},{id:'4-14',title:'Interne links',desc:'Relevante paginas'}]}
]},
{id:5,name:'Content Creatie',icon:'‚úçÔ∏è',type:'custom',customFields:[{key:'keyword',label:'Zoekwoord',type:'text'},{key:'url',label:'URL',type:'text'},{key:'words',label:'Hoeveelheid woorden',type:'number'}]},
{id:6,name:'Linkbuilding',icon:'üîó',sections:[{title:'Audit',tasks:[{id:'6-1',title:'Backlink profiel',desc:'Ahrefs'},{id:'6-2',title:'Concurrent links',desc:'Analyseer'},{id:'6-3',title:'Broken links',desc:'Controleer'}]}],type:'hybrid',customSection:{title:'Geplaatste Links',fields:[{key:'url',label:'URL',type:'text'},{key:'anchor',label:'Anchor tekst',type:'text'},{key:'date',label:'Datum',type:'date'}]}},
{id:7,name:'Meten & Bijsturen',icon:'üìä',sections:[{title:'Maandelijks',tasks:[{id:'7-1',title:'Foutmeldingen',desc:''},{id:'7-2',title:'SE Ranking',desc:''},{id:'7-3',title:'Maandrapport',desc:''},{id:'7-reset',title:'üîÑ Reset Maandelijks',desc:'Reset alle maandelijkse taken'}]}]},
{id:8,name:'Planning',icon:'üìÖ',type:'planning',months:[
{key:'2025-12',label:'December 2025'},{key:'2026-01',label:'Januari 2026'},{key:'2026-02',label:'Februari 2026'},
{key:'2026-03',label:'Maart 2026'},{key:'2026-04',label:'April 2026'},{key:'2026-05',label:'Mei 2026'},
{key:'2026-06',label:'Juni 2026'},{key:'2026-07',label:'Juli 2026'},{key:'2026-08',label:'Augustus 2026'},
{key:'2026-09',label:'September 2026'},{key:'2026-10',label:'Oktober 2026'},{key:'2026-11',label:'November 2026'},{key:'2026-12',label:'December 2026'}
]}
];

// LOCAL STORAGE
const saveLocalData=(tasks,customItems,planningItems,clients)=>{
localStorage.setItem('seo-tasks',JSON.stringify(tasks));
localStorage.setItem('seo-custom-items',JSON.stringify(customItems));
localStorage.setItem('seo-planning',JSON.stringify(planningItems));
localStorage.setItem('seo-clients',JSON.stringify(clients));
};

// TOAST
function Toast({message,type,onClose}){
useEffect(()=>{
const timer=setTimeout(()=>{
const el=document.querySelector('.toast');
if(el){el.classList.add('hiding');setTimeout(onClose,300);}
},3000);
return()=>clearTimeout(timer);
},[onClose]);
const icons={success:'‚úÖ',error:'‚ùå',info:'üíæ'};
return(<div className={`toast toast-${type}`}><div className="toast-icon">{icons[type]}</div><div className="toast-text">{message}</div></div>);
}

// ADMIN LOGIN MODAL
function AdminLoginModal({onLogin,onCancel}){
const [password,setPassword]=useState('');
const [error,setError]=useState('');
const handleSubmit=()=>{
if(password===ADMIN_PASSWORD){
onLogin();
}else{
setError('Incorrect wachtwoord');
setTimeout(()=>setError(''),3000);
}
};
return(
<div className="modal-overlay" onClick={onCancel}>
<div className="modal" onClick={(e)=>e.stopPropagation()}>
<h2 className="modal-title">üîê Admin Login</h2>
<p style={{marginBottom:'24px',color:'var(--text-light)',fontSize:'14px'}}>Voer het admin wachtwoord in om edit rechten te krijgen.</p>
{error&&<div style={{background:'var(--red-bg)',color:'var(--red)',padding:'12px',borderRadius:'6px',marginBottom:'16px',fontSize:'13px'}}>{error}</div>}
<div className="input-group">
<label className="input-label">Wachtwoord</label>
<input type="password" className="modal-input" value={password} onChange={(e)=>setPassword(e.target.value)} onKeyPress={(e)=>{if(e.key==='Enter')handleSubmit();}} autoFocus placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"/>
</div>
<div className="modal-buttons">
<button className="btn btn-primary" onClick={handleSubmit}>Inloggen</button>
<button className="btn btn-secondary" onClick={onCancel}>Annuleren</button>
</div>
</div>
</div>
);
}

// PLANNING MONTH
function PlanningMonth({month,selectedClient,planningItems,onAdd,onToggle,onDelete,getCurrentMonth,isAdmin}){
const [showInput,setShowInput]=useState(false);
const [inputValue,setInputValue]=useState('');
const monthItems=planningItems[`${selectedClient}-${month.key}`]||[];
return(
<div className="section">
<div className="section-header">
{month.label}
{month.key===getCurrentMonth()&&(<span style={{marginLeft:'8px',fontSize:'11px',background:'var(--blue)',color:'white',padding:'2px 8px',borderRadius:'12px'}}>Deze maand</span>)}
</div>
{monthItems.map(item=>(
<div key={item.id} className={`task-card ${item.completed?'completed':''} ${isAdmin?'clickable':''}`}>
<div className={`checkbox ${item.completed?'checked':''} ${isAdmin?'clickable':''}`} onClick={()=>{if(isAdmin)onToggle(month.key,item.id);}}/>
<div className="task-content"><div className="task-title">{item.text}</div></div>
{isAdmin&&<button className="delete-item-btn" onClick={()=>onDelete(month.key,item.id)}>üóëÔ∏è</button>}
</div>
))}
{isAdmin&&showInput&&(
<div style={{marginTop:'8px',display:'flex',gap:'8px'}}>
<input type="text" className="modal-input" placeholder="Planning item..." value={inputValue}
onChange={(e)=>setInputValue(e.target.value)}
onKeyPress={(e)=>{if(e.key==='Enter'){onAdd(month.key,inputValue);setInputValue('');setShowInput(false);}}}
autoFocus style={{margin:0}}/>
<button className="btn btn-primary" onClick={()=>{onAdd(month.key,inputValue);setInputValue('');setShowInput(false);}} style={{padding:'10px 20px'}}>Toevoegen</button>
<button className="btn btn-secondary" onClick={()=>{setShowInput(false);setInputValue('');}} style={{padding:'10px 20px'}}>Annuleren</button>
</div>
)}
{isAdmin&&!showInput&&(
<button className="add-item-btn" onClick={()=>setShowInput(true)} style={{width:'100%',marginTop:'8px'}}>+ Planning item toevoegen</button>
)}
{monthItems.length===0&&!showInput&&(<div style={{textAlign:'center',padding:'32px',color:'var(--text-light)',fontSize:'14px'}}>Nog geen planning</div>)}
</div>
);
}

// MAIN APP
function App(){
const [loading,setLoading]=useState(true);
const [db,setDb]=useState(null);
const [syncStatus,setSyncStatus]=useState('connecting');
const [activeView,setActiveView]=useState('dashboard');
const [activeStep,setActiveStep]=useState(1);
const [selectedClient,setSelectedClient]=useState(null);
const [tasks,setTasks]=useState({});
const [customItems,setCustomItems]=useState({});
const [planningItems,setPlanningItems]=useState({});
const [clients,setClients]=useState([]);
const [showModal,setShowModal]=useState(false);
const [showDeleteModal,setShowDeleteModal]=useState(false);
const [showItemModal,setShowItemModal]=useState(false);
const [showStatusModal,setShowStatusModal]=useState(false);
const [showAdminLogin,setShowAdminLogin]=useState(false);
const [isAdmin,setIsAdmin]=useState(false);
const [newClient,setNewClient]=useState({name:'',website:'',seRanking:'',city:'',status:'schema',projectManager:'none'});
const [statusFilter,setStatusFilter]=useState('all');
const [pmFilter,setPmFilter]=useState('all');
const [clientToDelete,setClientToDelete]=useState(null);
const [itemModalData,setItemModalData]=useState({});
const [itemModalStep,setItemModalStep]=useState(null);
const [saveStatus,setSaveStatus]=useState('idle');
const [toast,setToast]=useState(null);

// INIT
useEffect(()=>{
console.log('üöÄ APP STARTING (Viewer Mode)');
initFirebase(VIEWER_FIREBASE_CONFIG);
},[]);

// FIREBASE INIT
const initFirebase=async(config)=>{
try{
console.log('üî• FIREBASE INIT');
setSyncStatus('connecting');

if(!firebase.apps.length){
firebase.initializeApp(config);
}

const firestore=firebase.firestore();

try{
await firestore.disableNetwork();
await firestore.enableNetwork();
}catch(e){}

const testDoc=await firestore.collection('roadmaps').doc('main').get();

setDb(firestore);
setSyncStatus('connected');

if(testDoc.exists){
const data=testDoc.data();
setTasks(data.tasks||{});
setCustomItems(data.customItems||{});
setPlanningItems(data.planningItems||{});
setClients(data.clients||[]);
saveLocalData(data.tasks||{},data.customItems||{},data.planningItems||{},data.clients||[]);
}

firestore.collection('roadmaps').doc('main').onSnapshot((doc)=>{
if(doc.exists){
const data=doc.data();
setTasks(data.tasks||{});
setCustomItems(data.customItems||{});
setPlanningItems(data.planningItems||{});
setClients(data.clients||[]);
saveLocalData(data.tasks||{},data.customItems||{},data.planningItems||{},data.clients||[]);
}
});

setLoading(false);
console.log('‚úÖ READY');
}catch(error){
console.error('‚ùå ERROR:',error);
setSyncStatus('error');
setLoading(false);
setToast({type:'error',message:'Verbinding mislukt'});
}
};

// SAVE (admin only)
const saveData=async(updates)=>{
if(!isAdmin)return;
if(!db){setToast({type:'error',message:'Geen verbinding'});return;}
setSaveStatus('saving');
try{
await db.collection('roadmaps').doc('main').set({...updates,updatedAt:firebase.firestore.FieldValue.serverTimestamp()},{merge:true});
saveLocalData(updates.tasks||tasks,updates.customItems||customItems,updates.planningItems||planningItems,updates.clients||clients);
setSaveStatus('success');
setTimeout(()=>setSaveStatus('idle'),2000);
}catch(error){
setToast({type:'error',message:'Opslaan mislukt'});
setSaveStatus('error');
setTimeout(()=>setSaveStatus('idle'),3000);
}
};

// RELOAD
const reloadFromFirebase=async()=>{
if(!db)return;
setToast({type:'info',message:'üîÑ Herladen...'});
try{
const doc=await db.collection('roadmaps').doc('main').get();
if(doc.exists){
const data=doc.data();
setTasks(data.tasks||{});
setCustomItems(data.customItems||{});
setPlanningItems(data.planningItems||{});
setClients(data.clients||[]);
saveLocalData(data.tasks||{},data.customItems||{},data.planningItems||{},data.clients||[]);
setToast({type:'success',message:'‚úì Herladen voltooid'});
}
}catch(error){
setToast({type:'error',message:'Herladen mislukt'});
}
};

// ADMIN LOGIN
const handleAdminLogin=()=>{
setIsAdmin(true);
setShowAdminLogin(false);
setToast({type:'success',message:'‚úì Admin mode!'});
console.log('üîì ADMIN MODE');
};

// EXPORT DATA
const exportData=()=>{
const exportObj={
tasks,
customItems,
planningItems,
clients,
exportDate:new Date().toISOString(),
version:'1.0'
};
const dataStr=JSON.stringify(exportObj,null,2);
const dataBlob=new Blob([dataStr],{type:'application/json'});
const url=URL.createObjectURL(dataBlob);
const link=document.createElement('a');
link.href=url;
const date=new Date();
const filename=`seo-roadmap-backup-${date.getFullYear()}-${String(date.getMonth()+1).padStart(2,'0')}-${String(date.getDate()).padStart(2,'0')}-${String(date.getHours()).padStart(2,'0')}${String(date.getMinutes()).padStart(2,'0')}.json`;
link.download=filename;
document.body.appendChild(link);
link.click();
document.body.removeChild(link);
URL.revokeObjectURL(url);
setToast({type:'success',message:'‚úì Data ge√´xporteerd!'});
};

// CLIENT FUNCTIONS
const addClient=()=>{
if(!isAdmin)return;
if(!newClient.name){setToast({type:'error',message:'Voer naam in'});return;}
const client={id:Date.now(),...newClient,createdAt:new Date().toISOString()};
const updatedClients=[...clients,client];
setClients(updatedClients);
saveData({tasks,customItems,planningItems,clients:updatedClients});
setShowModal(false);
setNewClient({name:'',website:'',seRanking:'',city:'',status:'schema',projectManager:'none'});
setToast({type:'success',message:'‚úì Klant toegevoegd'});
};

const updateClientStatus=(clientId,newStatus)=>{
if(!isAdmin)return;
const updatedClients=clients.map(c=>c.id===clientId?{...c,status:newStatus}:c);
setClients(updatedClients);
saveData({tasks,customItems,planningItems,clients:updatedClients});
setToast({type:'success',message:'‚úì Status bijgewerkt'});
};

const deleteClient=(id)=>{
if(!isAdmin)return;
const updatedClients=clients.filter(c=>c.id!==id);
const newTasks={...tasks};
const newCustomItems={...customItems};
const newPlanningItems={...planningItems};
Object.keys(newTasks).forEach(key=>{if(key.startsWith(`${id}-`))delete newTasks[key];});
Object.keys(newCustomItems).forEach(key=>{if(key.startsWith(`${id}-`))delete newCustomItems[key];});
Object.keys(newPlanningItems).forEach(key=>{if(key.startsWith(`${id}-`))delete newPlanningItems[key];});
setTasks(newTasks);
setCustomItems(newCustomItems);
setPlanningItems(newPlanningItems);
saveData({tasks:newTasks,customItems:newCustomItems,planningItems:newPlanningItems,clients:updatedClients});
if(selectedClient===id){setSelectedClient(null);setActiveView('dashboard');}
setShowDeleteModal(false);
setClientToDelete(null);
setToast({type:'success',message:'‚úì Verwijderd'});
};

// TASK FUNCTIONS
const toggleTask=(stepId,taskId)=>{
if(!isAdmin)return;
const key=`${selectedClient}-${stepId}-${taskId}`;
const newTasks={...tasks,[key]:!tasks[key]};
setTasks(newTasks);
saveData({tasks:newTasks,customItems,planningItems,clients});
};

const addCustomItem=(stepId,text)=>{
if(!isAdmin||!text.trim())return;
const key=`${selectedClient}-${stepId}`;
const items=customItems[key]||[];
const newItem={id:Date.now(),text:text.trim(),completed:false};
const newCustomItems={...customItems,[key]:[...items,newItem]};
setCustomItems(newCustomItems);
saveData({tasks,customItems:newCustomItems,planningItems,clients});
};

const toggleCustomItem=(stepId,itemId)=>{
if(!isAdmin)return;
const key=`${selectedClient}-${stepId}`;
const items=customItems[key]||[];
const newItems=items.map(item=>item.id===itemId?{...item,completed:!item.completed}:item);
const newCustomItems={...customItems,[key]:newItems};
setCustomItems(newCustomItems);
saveData({tasks,customItems:newCustomItems,planningItems,clients});
};

const deleteCustomItem=(stepId,itemId)=>{
if(!isAdmin)return;
const key=`${selectedClient}-${stepId}`;
const items=customItems[key]||[];
const newItems=items.filter(item=>item.id!==itemId);
const newCustomItems={...customItems,[key]:newItems};
setCustomItems(newCustomItems);
saveData({tasks,customItems:newCustomItems,planningItems,clients});
};

// PLANNING FUNCTIONS
const addPlanningItem=(monthKey,text)=>{
if(!isAdmin||!text.trim())return;
const key=`${selectedClient}-${monthKey}`;
const items=planningItems[key]||[];
const newItem={id:Date.now(),text:text.trim(),completed:false};
const newPlanningItems={...planningItems,[key]:[...items,newItem]};
setPlanningItems(newPlanningItems);
saveData({tasks,customItems,planningItems:newPlanningItems,clients});
};

const togglePlanningItem=(monthKey,itemId)=>{
if(!isAdmin)return;
const key=`${selectedClient}-${monthKey}`;
const items=planningItems[key]||[];
const newItems=items.map(item=>item.id===itemId?{...item,completed:!item.completed}:item);
const newPlanningItems={...planningItems,[key]:newItems};
setPlanningItems(newPlanningItems);
saveData({tasks,customItems,planningItems:newPlanningItems,clients});
};

const deletePlanningItem=(monthKey,itemId)=>{
if(!isAdmin)return;
const key=`${selectedClient}-${monthKey}`;
const items=planningItems[key]||[];
const newItems=items.filter(item=>item.id!==itemId);
const newPlanningItems={...planningItems,[key]:newItems};
setPlanningItems(newPlanningItems);
saveData({tasks,customItems,planningItems:newPlanningItems,clients});
};

// HELPERS
const getCurrentMonth=()=>{
const now=new Date();
return `${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,'0')}`;
};

const getClientProgress=(clientId)=>{
let total=0;
let completed=0;
STEPS.forEach(step=>{
if(step.type==='planning'||step.type==='custom'||step.type==='hybrid')return;
if(step.sections){
step.sections.forEach(section=>{
section.tasks.forEach(task=>{
total++;
const key=`${clientId}-${step.id}-${task.id}`;
if(tasks[key])completed++;
});
});
}
});
return total>0?Math.round((completed/total)*100):0;
};

const getClientStats=(clientId)=>{
let totalTasks=0;
let completedTasks=0;
let customCount=0;
STEPS.forEach(step=>{
if(step.type==='planning')return;
if(step.sections){
step.sections.forEach(section=>{
section.tasks.forEach(task=>{
totalTasks++;
const key=`${clientId}-${step.id}-${task.id}`;
if(tasks[key])completedTasks++;
});
});
}
const customKey=`${clientId}-${step.id}`;
const customList=customItems[customKey]||[];
customCount+=customList.length;
totalTasks+=customList.length;
customList.forEach(item=>{if(item.completed)completedTasks++;});
});
return{total:totalTasks,completed:completedTasks,custom:customCount};
};

const getStatusCounts=()=>{
const counts={};
STATUS_OPTIONS.forEach(opt=>counts[opt.key]=0);
clients.forEach(client=>{
const status=client.status||'schema';
counts[status]=(counts[status]||0)+1;
});
return counts;
};

const getFilteredClients=()=>{
let filtered=clients;
if(statusFilter!=='all'){
filtered=filtered.filter(c=>(c.status||'schema')===statusFilter);
}
if(pmFilter!=='all'){
filtered=filtered.filter(c=>(c.projectManager||'none')===pmFilter);
}
return filtered;
};

const getStatusInfo=(statusKey)=>{
return STATUS_OPTIONS.find(s=>s.key===statusKey)||STATUS_OPTIONS[3];
};

const getPMInfo=(pmKey)=>{
return PROJECT_MANAGERS.find(p=>p.key===pmKey)||PROJECT_MANAGERS[2];
};

const getClientPlanning=(clientId)=>{
const now=new Date();
const currentMonth=`${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,'0')}`;
const nextMonthDate=new Date(now.getFullYear(),now.getMonth()+1,1);
const nextMonth=`${nextMonthDate.getFullYear()}-${String(nextMonthDate.getMonth()+1).padStart(2,'0')}`;
const currentKey=`${clientId}-${currentMonth}`;
const nextKey=`${clientId}-${nextMonth}`;
return{
current:{month:currentMonth,items:planningItems[currentKey]||[]},
next:{month:nextMonth,items:planningItems[nextKey]||[]}
};
};

const getMonthName=(monthKey)=>{
const months=['Jan','Feb','Mrt','Apr','Mei','Jun','Jul','Aug','Sep','Okt','Nov','Dec'];
const [year,month]=monthKey.split('-');
return `${months[parseInt(month)-1]} ${year}`;
};

// LOADING
if(loading){
return(<div className="loading-screen"><div className="spinner"></div><div className="loading-text">Laden...</div></div>);
}

// DASHBOARD
if(activeView==='dashboard'){
const statusCounts=getStatusCounts();
const filteredClients=getFilteredClients();

return(
<div className={`app ${!isAdmin?'viewer-mode':''}`}>
<aside className="sidebar">
<div className="logo"><div className="logo-text">THE FULLY BOOKERS</div><div className="logo-subtitle">SEO Roadmap</div></div>
<div className="sync-status">
<div className={`sync-dot sync-${syncStatus}`}/>
<span className="sync-text">
{syncStatus==='connected'&&'‚úì Verbonden'}
{syncStatus==='connecting'&&'‚ö†Ô∏è Verbinden...'}
{syncStatus==='error'&&'‚ùå Fout'}
</span>
{syncStatus==='connected'&&<button className="reload-btn" onClick={reloadFromFirebase}>üîÑ</button>}
</div>
<div className="mode-indicator">
<div className={`mode-badge ${isAdmin?'admin':'viewer'}`}>
{isAdmin?'üîì Admin':'üëÅÔ∏è Viewer'}
</div>
</div>
{isAdmin&&(
<div className="save-status">
<div className={`save-status-dot ${saveStatus}`}/>
<span>
{saveStatus==='saving'&&'Opslaan...'}
{saveStatus==='success'&&'Opgeslagen'}
{saveStatus==='error'&&'Fout'}
</span>
</div>
)}
<nav>
<div className="nav-item active">
<span className="nav-icon">üìä</span>
<span className="nav-text">Dashboard</span>
<span className="nav-count">{clients.length}</span>
</div>
</nav>
{isAdmin&&(
<button className="export-btn" onClick={exportData}>
üíæ Export Data
</button>
)}
</aside>
<main className="main">
<header className="header">
<h1 className="title">Klanten Dashboard</h1>
<p className="subtitle">Overzicht van alle SEO projecten</p>
</header>

<div className="status-overview">
{STATUS_OPTIONS.map(status=>(
<div key={status.key} className={`status-card ${status.key} ${statusFilter===status.key?'active':''}`} onClick={()=>setStatusFilter(statusFilter===status.key?'all':status.key)}>
<div className="status-icon">{status.icon}</div>
<div className="status-count">{statusCounts[status.key]||0}</div>
<div className="status-label">{status.label}</div>
</div>
))}
</div>

<div className="pm-overview">
<div className="pm-label">Projectmanagers:</div>
{PROJECT_MANAGERS.filter(pm=>pm.key!=='none').map(pm=>(
<div key={pm.key} className={`pm-filter-btn ${pmFilter===pm.key?'active':''}`} onClick={()=>setPmFilter(pmFilter===pm.key?'all':pm.key)}>
<span style={{marginRight:'4px'}}>{pm.icon}</span>
{pm.label}
{pmFilter===pm.key&&<span style={{marginLeft:'6px'}}>√ó</span>}
</div>
))}
{pmFilter!=='all'&&(
<div className="pm-filter-btn" onClick={()=>setPmFilter('all')} style={{opacity:0.7}}>
Alle PMs
</div>
)}
</div>

{statusFilter!=='all'&&(
<div className="filter-bar">
<span className="filter-label">Filter:</span>
<button className="filter-btn active" onClick={()=>setStatusFilter('all')}>
{getStatusInfo(statusFilter).icon} {getStatusInfo(statusFilter).label}
<span style={{marginLeft:'4px'}}>√ó</span>
</button>
</div>
)}

<div className="dashboard-grid">
{filteredClients.map(client=>{
const stats=getClientStats(client.id);
const progress=getClientProgress(client.id);
const statusInfo=getStatusInfo(client.status||'schema');
const pmInfo=getPMInfo(client.projectManager||'none');
return(
<div key={client.id} className="client-card" onClick={()=>{setSelectedClient(client.id);setActiveView('roadmap');}}>
<div className={`client-status-badge ${statusInfo.key}`}>{statusInfo.icon}</div>
<div className="client-header">
<h3 className="client-name">{client.name}</h3>
{pmInfo.key!=='none'&&(<div className="pm-badge" style={{background:pmInfo.color}}>{pmInfo.icon} {pmInfo.label}</div>)}
</div>
<div className="client-meta">
{client.city&&<span>üìç {client.city}</span>}
{client.website&&(<><br/><a href={client.website} target="_blank" className="client-link" onClick={(e)=>e.stopPropagation()}>üåê Website</a></>)}
{client.seRanking&&(<a href={client.seRanking} target="_blank" className="client-link" onClick={(e)=>e.stopPropagation()}>üìä SE Ranking</a>)}
</div>
<div className="client-stats">
<div className="stat-box">
<div className="stat-number">{stats.total}</div>
<div className="stat-label">Taken</div>
</div>
<div className="stat-box">
<div className="stat-number">{stats.completed}</div>
<div className="stat-label">Afgerond</div>
</div>
<div className="stat-box">
<div className="stat-number">{stats.custom}</div>
<div className="stat-label">Custom</div>
</div>
</div>
<div className="progress-section">
<div className="progress-label">
<span>Voortgang</span>
<span className="progress-percentage">{progress}%</span>
</div>
<div className="progress-bar">
<div className="progress-fill" style={{width:`${progress}%`}}/>
</div>
</div>
{(()=>{
const planning=getClientPlanning(client.id);
const hasPlanning=planning.current.items.length>0||planning.next.items.length>0;
if(!hasPlanning)return null;
return(
<div className="planning-box">
<div className="planning-title">üìÖ Planning</div>
{planning.current.items.length>0&&(
<div style={{marginBottom:'8px'}}>
<div style={{fontSize:'11px',fontWeight:'600',color:'var(--blue)',marginBottom:'4px'}}>{getMonthName(planning.current.month)}</div>
{planning.current.items.slice(0,3).map(item=>(
<div key={item.id} className="planning-item" style={{textDecoration:item.completed?'line-through':'none',opacity:item.completed?0.6:1}}>‚Ä¢ {item.text}</div>
))}
{planning.current.items.length>3&&<div className="planning-item" style={{fontStyle:'italic',color:'var(--text-light)'}}>+{planning.current.items.length-3} meer...</div>}
</div>
)}
{planning.next.items.length>0&&(
<div>
<div style={{fontSize:'11px',fontWeight:'600',color:'var(--blue)',marginBottom:'4px'}}>{getMonthName(planning.next.month)}</div>
{planning.next.items.slice(0,3).map(item=>(
<div key={item.id} className="planning-item" style={{textDecoration:item.completed?'line-through':'none',opacity:item.completed?0.6:1}}>‚Ä¢ {item.text}</div>
))}
{planning.next.items.length>3&&<div className="planning-item" style={{fontStyle:'italic',color:'var(--text-light)'}}>+{planning.next.items.length-3} meer...</div>}
</div>
)}
</div>
);
})()}
{isAdmin&&<button className="delete-btn" onClick={(e)=>{e.stopPropagation();setClientToDelete(client.id);setShowDeleteModal(true);}}>üóëÔ∏è</button>}
</div>
);
})}
{isAdmin&&(
<div className="add-client-card" onClick={()=>setShowModal(true)}>
<div className="add-icon">+</div>
<div className="add-text">Nieuwe Klant</div>
</div>
)}
{!isAdmin&&(
<div className="add-client-card" style={{position:'relative',cursor:'not-allowed',opacity:0.6}}>
<div className="add-icon">üîí</div>
<div className="add-text">Admin Rechten</div>
<div className="viewer-overlay">
<div className="viewer-message">üëÅÔ∏è Viewer Mode</div>
</div>
</div>
)}
</div>

{filteredClients.length===0&&statusFilter!=='all'&&(
<div className="empty-state">
<div className="empty-icon">{getStatusInfo(statusFilter).icon}</div>
<div className="empty-text">Geen klanten met deze status</div>
</div>
)}

<div className="joke-footer">
<div className="joke-text">{SEO_JOKES[Math.floor(Math.random()*SEO_JOKES.length)]}</div>
</div>
</main>

{!isAdmin&&(
<button className="admin-login-btn" onClick={()=>setShowAdminLogin(true)}>
üîê Admin Login
</button>
)}

{showAdminLogin&&<AdminLoginModal onLogin={handleAdminLogin} onCancel={()=>setShowAdminLogin(false)}/>}

{isAdmin&&showModal&&(
<div className="modal-overlay" onClick={()=>setShowModal(false)}>
<div className="modal" onClick={(e)=>e.stopPropagation()}>
<h2 className="modal-title">Nieuwe Klant Toevoegen</h2>
<div className="input-group">
<label className="input-label">Bedrijfsnaam *</label>
<input type="text" className="modal-input" value={newClient.name} onChange={(e)=>setNewClient({...newClient,name:e.target.value})} autoFocus/>
</div>
<div className="input-group">
<label className="input-label">Website</label>
<input type="text" className="modal-input" placeholder="https://..." value={newClient.website} onChange={(e)=>setNewClient({...newClient,website:e.target.value})}/>
</div>
<div className="input-group">
<label className="input-label">SE Ranking Link</label>
<input type="text" className="modal-input" placeholder="https://..." value={newClient.seRanking} onChange={(e)=>setNewClient({...newClient,seRanking:e.target.value})}/>
</div>
<div className="input-group">
<label className="input-label">Plaats</label>
<input type="text" className="modal-input" value={newClient.city} onChange={(e)=>setNewClient({...newClient,city:e.target.value})}/>
</div>
<div className="input-group">
<label className="input-label">Status</label>
<div className="status-select">
{STATUS_OPTIONS.map(status=>(
<div key={status.key} className={`status-option ${newClient.status===status.key?'selected':''}`} onClick={()=>setNewClient({...newClient,status:status.key})}>
<span className="status-option-icon">{status.icon}</span>
<span className="status-option-text">{status.label}</span>
</div>
))}
</div>
</div>
<div className="input-group">
<label className="input-label">Projectmanager</label>
<div className="status-select">
{PROJECT_MANAGERS.map(pm=>(
<div key={pm.key} className={`status-option ${newClient.projectManager===pm.key?'selected':''}`} onClick={()=>setNewClient({...newClient,projectManager:pm.key})}>
<span className="status-option-icon">{pm.icon}</span>
<span className="status-option-text">{pm.label}</span>
</div>
))}
</div>
</div>
<div className="modal-buttons">
<button className="btn btn-primary" onClick={addClient}>Opslaan</button>
<button className="btn btn-secondary" onClick={()=>{setShowModal(false);setNewClient({name:'',website:'',seRanking:'',city:'',status:'schema',projectManager:'none'});}}>Annuleren</button>
</div>
</div>
</div>
)}

{toast&&<Toast message={toast.message} type={toast.type} onClose={()=>setToast(null)}/>}
</div>
);
}

// ROADMAP VIEW
const currentClient=clients.find(c=>c.id===selectedClient);
if(!currentClient)return null;

const currentStep=STEPS.find(s=>s.id===activeStep);
const stats=getClientStats(selectedClient);
const progress=getClientProgress(selectedClient);
const statusInfo=getStatusInfo(currentClient.status||'schema');

return(
<div className={`app ${!isAdmin?'viewer-mode':''}`}>
<aside className="sidebar">
<div className="logo"><div className="logo-text">THE FULLY BOOKERS</div><div className="logo-subtitle">SEO Roadmap</div></div>
<div className="sync-status">
<div className={`sync-dot sync-${syncStatus}`}/>
<span className="sync-text">
{syncStatus==='connected'&&'‚úì Verbonden'}
{syncStatus==='connecting'&&'‚ö†Ô∏è Verbinden...'}
{syncStatus==='error'&&'‚ùå Fout'}
</span>
{syncStatus==='connected'&&<button className="reload-btn" onClick={reloadFromFirebase}>üîÑ</button>}
</div>
<div className="mode-indicator">
<div className={`mode-badge ${isAdmin?'admin':'viewer'}`}>
{isAdmin?'üîì Admin':'üëÅÔ∏è Viewer'}
</div>
</div>
{isAdmin&&(
<div className="save-status">
<div className={`save-status-dot ${saveStatus}`}/>
<span>
{saveStatus==='saving'&&'Opslaan...'}
{saveStatus==='success'&&'Opgeslagen'}
{saveStatus==='error'&&'Fout'}
</span>
</div>
)}
<nav>
<div className="nav-item" onClick={()=>setActiveView('dashboard')}>
<span className="nav-icon">üìä</span>
<span className="nav-text">Dashboard</span>
</div>
{STEPS.map(step=>(
<div key={step.id} className={`nav-item ${activeStep===step.id?'active':''}`} onClick={()=>setActiveStep(step.id)}>
<span className="nav-icon">{step.icon}</span>
<span className="nav-text">{step.name}</span>
</div>
))}
</nav>
{isAdmin&&(
<button className="export-btn" onClick={exportData}>
üíæ Export Data
</button>
)}
</aside>
<main className="main">
<div className="current-client-banner">
<div className="banner-left">
<div className="banner-text">
Project: <span className="banner-client">{currentClient.name}</span>
</div>
<div className={`banner-status-display`} style={{borderLeft:`4px solid var(--${statusInfo.color})`}}>
<span className="banner-status-icon">{statusInfo.icon}</span>
<span>{statusInfo.label}</span>
</div>
</div>
{isAdmin&&(
<div className="banner-buttons">
<button className="banner-btn" onClick={()=>setShowStatusModal(true)}>Status Wijzigen</button>
<button className="banner-btn danger" onClick={()=>{setClientToDelete(selectedClient);setShowDeleteModal(true);}}>Verwijderen</button>
</div>
)}
</div>

<header className="header">
<h1 className="title">{currentStep.icon} {currentStep.name}</h1>
<p className="subtitle">Voortgang: {stats.completed} / {stats.total} taken ({progress}%)</p>
</header>

{currentStep.type==='planning'?(
<>
{currentStep.months.map(month=>(
<PlanningMonth
key={month.key}
month={month}
selectedClient={selectedClient}
planningItems={planningItems}
onAdd={addPlanningItem}
onToggle={togglePlanningItem}
onDelete={deletePlanningItem}
getCurrentMonth={getCurrentMonth}
isAdmin={isAdmin}
/>
))}
</>
):(
<>
{currentStep.sections&&currentStep.sections.map(section=>(
<div key={section.title} className="section">
<div className="section-header">{section.title}</div>
{section.tasks.map(task=>{
const key=`${selectedClient}-${currentStep.id}-${task.id}`;
const isChecked=!!tasks[key];
return(
<div key={task.id} className={`task-card ${isChecked?'completed':''} ${isAdmin?'clickable':''}`} onClick={()=>{if(isAdmin)toggleTask(currentStep.id,task.id);}}>
<div className={`checkbox ${isChecked?'checked':''} ${isAdmin?'clickable':''}`}/>
<div className="task-content">
<div className="task-title">{task.title}</div>
{task.desc&&<div className="task-desc">{task.desc}</div>}
</div>
</div>
);
})}
</div>
))}

{(currentStep.type==='custom'||currentStep.type==='hybrid')&&(
<div className="section">
<div className="section-header">
{currentStep.type==='hybrid'?currentStep.customSection.title:'Custom Items'}
{isAdmin&&<button className="add-item-btn" onClick={()=>{setItemModalStep(currentStep.id);setItemModalData({});setShowItemModal(true);}}>+ Toevoegen</button>}
</div>
{(customItems[`${selectedClient}-${currentStep.id}`]||[]).map(item=>(
<div key={item.id} className={`task-card ${item.completed?'completed':''} ${isAdmin?'clickable':''}`}>
<div className={`checkbox ${item.completed?'checked':''} ${isAdmin?'clickable':''}`} onClick={()=>{if(isAdmin)toggleCustomItem(currentStep.id,item.id);}}/>
<div className="task-content">
<div className="task-title">{item.text}</div>
</div>
{isAdmin&&<button className="delete-item-btn" onClick={()=>deleteCustomItem(currentStep.id,item.id)}>üóëÔ∏è</button>}
</div>
))}
</div>
)}
</>
)}
</main>

{!isAdmin&&(
<button className="admin-login-btn" onClick={()=>setShowAdminLogin(true)}>
üîê Admin Login
</button>
)}

{showAdminLogin&&<AdminLoginModal onLogin={handleAdminLogin} onCancel={()=>setShowAdminLogin(false)}/>}

{isAdmin&&showModal&&(
<div className="modal-overlay" onClick={()=>setShowModal(false)}>
<div className="modal" onClick={(e)=>e.stopPropagation()}>
<h2 className="modal-title">Nieuwe Klant Toevoegen</h2>
<div className="input-group">
<label className="input-label">Bedrijfsnaam *</label>
<input type="text" className="modal-input" value={newClient.name} onChange={(e)=>setNewClient({...newClient,name:e.target.value})} autoFocus/>
</div>
<div className="input-group">
<label className="input-label">Website</label>
<input type="text" className="modal-input" placeholder="https://..." value={newClient.website} onChange={(e)=>setNewClient({...newClient,website:e.target.value})}/>
</div>
<div className="input-group">
<label className="input-label">SE Ranking Link</label>
<input type="text" className="modal-input" placeholder="https://..." value={newClient.seRanking} onChange={(e)=>setNewClient({...newClient,seRanking:e.target.value})}/>
</div>
<div className="input-group">
<label className="input-label">Plaats</label>
<input type="text" className="modal-input" value={newClient.city} onChange={(e)=>setNewClient({...newClient,city:e.target.value})}/>
</div>
<div className="input-group">
<label className="input-label">Status</label>
<div className="status-select">
{STATUS_OPTIONS.map(status=>(
<div key={status.key} className={`status-option ${newClient.status===status.key?'selected':''}`} onClick={()=>setNewClient({...newClient,status:status.key})}>
<span className="status-option-icon">{status.icon}</span>
<span className="status-option-text">{status.label}</span>
</div>
))}
</div>
</div>
<div className="input-group">
<label className="input-label">Projectmanager</label>
<div className="status-select">
{PROJECT_MANAGERS.map(pm=>(
<div key={pm.key} className={`status-option ${newClient.projectManager===pm.key?'selected':''}`} onClick={()=>setNewClient({...newClient,projectManager:pm.key})}>
<span className="status-option-icon">{pm.icon}</span>
<span className="status-option-text">{pm.label}</span>
</div>
))}
</div>
</div>
<div className="modal-buttons">
<button className="btn btn-primary" onClick={addClient}>Opslaan</button>
<button className="btn btn-secondary" onClick={()=>{setShowModal(false);setNewClient({name:'',website:'',seRanking:'',city:'',status:'schema',projectManager:'none'});}}>Annuleren</button>
</div>
</div>
</div>
)}

{isAdmin&&showStatusModal&&(
<div className="modal-overlay" onClick={()=>setShowStatusModal(false)}>
<div className="modal" onClick={(e)=>e.stopPropagation()}>
<h2 className="modal-title">Status Wijzigen</h2>
<div className="status-select">
{STATUS_OPTIONS.map(status=>(
<div key={status.key} className={`status-option ${currentClient.status===status.key?'selected':''}`} onClick={()=>{updateClientStatus(selectedClient,status.key);setShowStatusModal(false);}}>
<span className="status-option-icon">{status.icon}</span>
<span className="status-option-text">{status.label}</span>
</div>
))}
</div>
<div className="modal-buttons">
<button className="btn btn-secondary" onClick={()=>setShowStatusModal(false)}>Annuleren</button>
</div>
</div>
</div>
)}

{isAdmin&&showDeleteModal&&(
<div className="modal-overlay" onClick={()=>setShowDeleteModal(false)}>
<div className="modal" onClick={(e)=>e.stopPropagation()}>
<h2 className="modal-title">Klant Verwijderen?</h2>
<p style={{marginBottom:'24px',color:'var(--text-light)'}}>Dit verwijdert alle taken en planning. Kan niet ongedaan gemaakt worden.</p>
<div className="modal-buttons">
<button className="btn btn-danger" onClick={()=>deleteClient(clientToDelete)}>Verwijderen</button>
<button className="btn btn-secondary" onClick={()=>{setShowDeleteModal(false);setClientToDelete(null);}}>Annuleren</button>
</div>
</div>
</div>
)}

{isAdmin&&showItemModal&&(
<div className="modal-overlay" onClick={()=>setShowItemModal(false)}>
<div className="modal" onClick={(e)=>e.stopPropagation()}>
<h2 className="modal-title">Custom Item Toevoegen</h2>
<div className="input-group">
<label className="input-label">Omschrijving</label>
<input type="text" className="modal-input" value={itemModalData.text||''} onChange={(e)=>setItemModalData({...itemModalData,text:e.target.value})} autoFocus onKeyPress={(e)=>{if(e.key==='Enter'){addCustomItem(itemModalStep,itemModalData.text||'');setShowItemModal(false);}}}/>
</div>
<div className="modal-buttons">
<button className="btn btn-primary" onClick={()=>{addCustomItem(itemModalStep,itemModalData.text||'');setShowItemModal(false);}}>Toevoegen</button>
<button className="btn btn-secondary" onClick={()=>setShowItemModal(false)}>Annuleren</button>
</div>
</div>
</div>
)}

{toast&&<Toast message={toast.message} type={toast.type} onClose={()=>setToast(null)}/>}
</div>
);
}

ReactDOM.render(<App/>,document.getElementById('root'));
</script>
</body>
</html>
